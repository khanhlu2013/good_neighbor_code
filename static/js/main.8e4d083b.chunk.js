(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{109:function(e,t,n){},191:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(30),i=n.n(o),s=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function c(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var u=n(26),l=n(14),d=n(68),p=(n(87),n(31)),m=n(17);p.b.add(m.o,m.n,m.p,m.q,m.h,m.g,m.c,m.a,m.r,m.d,m.s,m.e,m.f,m.b,m.i,m.j,m.m,m.l,m.k,m.t);n(88),n(90),n(92),n(94);var f=n(6),h=n(12),b=n(9),v=n(10),E=n(23),g=function(e){function t(){return Object(f.a)(this,t),Object(h.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),t}(E.Enum);g.initEnum(["INPOST","OUTPOST","CONNECTION","PROFILE"]);var C=g,O=n(5),R=n.n(O),y=n(13),S=n(37),w={local:"http://localhost:3001",production:"https://goodneighbor-backend-test.herokuapp.com"},I=new S.a("","",[new S.a("profile","/profile",[{name:"authCheck",path:"/authCheck"},{name:"logout",path:"/logout"},{name:"searchEmail",path:"/searchEmail?:email"},{name:"connections",path:"/connections"},{name:"createConnection",path:"/createConnection"},{name:"updateConnection",path:"/updateConnection"},{name:"createPost",path:"/createPost"},{name:"updatePost",path:"/updatePost"},{name:"awareReturnPost",path:"/awareReturnPost"},{name:"outPosts",path:"/outPosts"},{name:"inPosts",path:"/inPosts"},{name:"share",path:"/share"},{name:"createShare",path:"/createShare"},{name:"deleteShare",path:"/deleteShare"},{name:"approveShare",path:"/approveShare"},{name:"returnShare",path:"/returnShare"},{name:"awareApproveShare",path:"/awareApproveShare"}]),new S.a("auth","/auth",[{name:"google",path:"/google"},{name:"backdoorLogin",path:"/backdoorLogin?:email?:name"}])]),P=function(e,t){var n=I.buildPath(e,t);if(!n)throw Error("".concat(e," is not found!"));return("production"===Object({NODE_ENV:"production",PUBLIC_URL:"/good_neighbor_test"}).prod_dev_test?w.production:w.local)+n};var N=n(11),A=function(){function e(t,n,r,a,o){Object(f.a)(this,e),Object.assign(this,{id:t,from:n,to:r,isApproveByFrom:a,isApproveByTo:o})}return Object(N.a)(e,[{key:"getTheOtherUser",value:function(e){var t;if(this.from.id===e)t=this.to;else{if(this.to.id!==e)throw Error("Error: unexpected connection");t=this.from}return t}}]),e}(),T=function(){function e(t,n,r,a){Object(f.a)(this,e),Object.assign(this,{id:t,email:n,name:r,profileImageUrl:a})}return Object(N.a)(e,[{key:"getNameAndEmail",value:function(){return"".concat(this.name,", ").concat(this.email)}}]),e}(),j=n(77),U=n(19),k=n.n(U),x=function(){function e(t,n,r,a,o,i,s){if(Object(f.a)(this,e),t&&t&&!k.a.isDate(i))throw Error("dateCreate '".concat(i,"' is not a Date"));Object.assign(this,{id:t,user:n,isActive:r,title:a,description:o,dateCreate:i,shares:s})}return Object(N.a)(e,[{key:"getUserLatestRequestShare",value:function(e){return this.requestShares.find(function(t){return t.borrower.id===e})||null}},{key:"requestShares",get:function(){return this.shares.filter(function(e){return e.isRequest})}},{key:"denyShares",get:function(){return this.shares.filter(function(e){return e.isDenied})}},{key:"curBorrowShare",get:function(){var e=this.shares.filter(function(e){return e.isCurrentlyBorrow()});if(e.length>1)throw Error("unexpected multiple borrow");var t=Object(j.a)(e,1)[0];return void 0===t?null:t}},{key:"returnShares",get:function(){return this.shares.filter(function(e){return e.isReturn})}},{key:"unawareReturnShareLatest",get:function(){var e=null,t=this.returnShares.sort(function(e,t){return t.dateReturn-e.dateReturn}).find(function(e){return!0===e.isReturn&&!1===e.isAwareReturn});return t&&!this.curBorrowShare&&(e=t),e}}]),e}(),q=function(){function e(t,n,r,a,o,i,s,c,u){if(Object(f.a)(this,e),t&&!k.a.isDate(r))throw Error("dateCreate '".concat(r,"' is not a Date"));Object.assign(this,{id:t,borrower:n,dateCreate:r,isApprove:a,isAwareApprove:o,isReturn:i,isAwareReturn:s,dateReturn:c,post:u})}return Object(N.a)(e,[{key:"setDateReturn",value:function(e){this.dateReturn=e}},{key:"setPost",value:function(e){this.post=e}},{key:"isCurrentlyBorrow",value:function(){return!0===this.isApprove&&!1===this.isReturn}},{key:"isRequest",get:function(){return void 0===this.isApprove}},{key:"isDenied",get:function(){return!1===this.isApprove}}]),e}(),D=function(e){var t=e._id,n=e.from,r=e.to,a=e.isApproveByTo,o=e.isApproveByFrom;return new A(t,B(n),B(r),o,a)},_=function(e){return e.map(function(e){return D(e)})};function F(e){return e.map(function(e){var t=e.post,n=e.user,r=e.shares.filter(function(e){return void 0!==e._id}).map(function(e){return new q(e._id,B(e.borrower),new Date(e.dateCreate),e.isApprove,e.isAwareApprove,e.isReturn,e.isAwareReturn,null===e.dateReturn?null:new Date(e.dateReturn),null)}),a=new x(t._id,B(n),t.isActive,t.title,t.description,new Date(t.dateCreate),r),o=!0,i=!1,s=void 0;try{for(var c,u=a.shares[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){c.value.setPost(a)}}catch(l){i=!0,s=l}finally{try{o||null==u.return||u.return()}finally{if(i)throw s}}return a})}function B(e){var t=e._id,n=e.email,r=e.name,a=e.profileImageUrl;return new T(t,n,r,a)}var L=function(){var e=Object(y.a)(R.a.mark(function e(){var t,n;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(P("profile.authCheck"),{credentials:"include"});case 2:if(401!==(t=e.sent).status){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,t.json();case 7:return n=e.sent,e.abrupt("return",B(n));case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(y.a)(R.a.mark(function e(t,n){var r;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae("auth.backdoorLogin",{email:t,name:n});case 3:return r=e.sent,e.abrupt("return",B(r));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t,n){return e.apply(this,arguments)}}(),M=function(){var e=Object(y.a)(R.a.mark(function e(){return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae("profile.logout");case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(y.a)(R.a.mark(function e(t){var n;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne("profile.searchEmail",{email:t});case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:return e.abrupt("return",B(n));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(y.a)(R.a.mark(function e(){var t;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne("profile.connections",{});case 2:return t=e.sent,e.abrupt("return",_(t));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(y.a)(R.a.mark(function e(t){var n;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae("profile.createConnection",{userIdToAdd:t});case 2:return n=e.sent,e.abrupt("return",D(n));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(y.a)(R.a.mark(function e(t,n){var r,a,o;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae("profile.updateConnection",{connectionId:t,isApproved:n});case 2:return r=e.sent,a=r.isApproveByTo,o=r.isApproveByFrom,e.abrupt("return",{updatedApprovedByTo:a,updatedApprovedByFrom:o});case 6:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),Y=function(){var e=Object(y.a)(R.a.mark(function e(t,n,r){var a,o,i,s,c,u;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae("profile.createPost",{title:t,description:n,isActive:r});case 2:return a=e.sent,o=a._id,i=a.isActive,s=a.title,c=a.description,u=a.dateCreate,e.abrupt("return",{createdId:o,createdIsActive:i,createdTitle:s,createdDescription:c,createdDateCreated:u});case 9:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}(),Q=function(){var e=Object(y.a)(R.a.mark(function e(t,n,r,a){var o,i,s,c;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae("profile.updatePost",{postID:t,title:n,description:r,isActive:a});case 2:return o=e.sent,i=o.title,s=o.description,c=o.isActive,e.abrupt("return",{updatedTitle:i,updatedDescription:s,updatedIsActive:c});case 7:case"end":return e.stop()}},e,this)}));return function(t,n,r,a){return e.apply(this,arguments)}}(),K=function(){var e=Object(y.a)(R.a.mark(function e(){var t;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne("profile.outPosts",{});case 2:return t=e.sent,e.abrupt("return",F(t));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(y.a)(R.a.mark(function e(){var t;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne("profile.inPosts",{});case 2:return t=e.sent,e.abrupt("return",F(t));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(y.a)(R.a.mark(function e(t){var n,r,a;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae("profile.createShare",{postID:t});case 2:return n=e.sent,r=n._id,a=n.dateCreate,e.abrupt("return",{id:r,dateCreate:a});case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(y.a)(R.a.mark(function e(t){return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae("profile.deleteShare",{shareId:t});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(y.a)(R.a.mark(function e(t,n){var r,a;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae("profile.approveShare",{shareId:t,isApprove:n});case 2:return r=e.sent,a=r.isApprove,e.abrupt("return",a);case 5:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),ee=function(){var e=Object(y.a)(R.a.mark(function e(t){var n,r,a;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae("profile.returnShare",{shareId:t});case 2:return n=e.sent,r=n.isReturn,a=n.dateReturn,e.abrupt("return",{resultIsReturnByTo:r,resultDateReturn:new Date(a)});case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(y.a)(R.a.mark(function e(t){var n,r;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae("profile.awareApproveShare",{shareId:t});case 2:return n=e.sent,r=n.isAwareApprove,e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();function ne(e,t){return re.apply(this,arguments)}function re(){return(re=Object(y.a)(R.a.mark(function e(t,n){var r,a;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=P(t,n),e.next=3,fetch(r,{credentials:"include"});case 3:if(500!==(a=e.sent).status){e.next=6;break}throw new Error("internal server error");case 6:return e.next=8,ie(a);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function ae(e,t){return oe.apply(this,arguments)}function oe(){return(oe=Object(y.a)(R.a.mark(function e(t,n){var r;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(P(t),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n),credentials:"include"});case 2:if(500!==(r=e.sent).status){e.next=5;break}throw new Error("internal server error");case 5:return e.next=7,ie(r);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function ie(e){return se.apply(this,arguments)}function se(){return(se=Object(y.a)(R.a.mark(function e(t){var n;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.text();case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:return e.abrupt("return",JSON.parse(n));case 6:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var ce={authCheck:L,logout:M,backDoorLogin:V,searchEmail:H,connections:G,createConnection:W,updateConnection:$,createPost:Y,updatePost:Q,awareReturnPost:function(){var e=Object(y.a)(R.a.mark(function e(t){return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae("profile.awareReturnPost",{postId:t});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),outPosts:K,inPosts:z,createShare:J,deleteShare:X,approveShare:Z,returnShare:ee,awareApproveShare:te},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C.INPOST,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_APP_TAB":return t.appTab;case"RECEIVE_LOGGED_OUT_SUCCESS":return C.INPOST;default:return e}},le=n(2),de=n(3);function pe(){var e=Object(le.a)(["\n  max-width: 700px;\n"]);return pe=function(){return e},e}function me(){var e=Object(le.a)(["\n  min-width: 420px;\n"]);return me=function(){return e},e}var fe=Object(de.a)(me()),he=Object(de.a)(pe());function be(){var e=Object(le.a)(["\n  ",";\n"]);return be=function(){return e},e}function ve(){var e=Object(le.a)(["\n  "," ","\n  margin: 0 auto;\n  padding: 0 10px;\n"]);return ve=function(){return e},e}var Ee=Object(de.a)(ve(),fe,he),ge=de.b.div(be(),Ee),Ce=n(20),Oe=n.n(Ce),Re=function(e,t){return["array","string","object","number","func"].includes(e)?function(n,r,a){var o=n[r];if(void 0===o)return new Error("Undefined '".concat(r,"' is not allowed"));if(null!==o){if("array"===e&&!Array.isArray(o))return new Error("".concat(r," must be an array"));if("string"===e&&!k.a.isString(o))return new Error("".concat(r," must be a string"));if("object"===e){if(t){if(!o instanceof t)return new Error("".concat(r," must be an object of type ").concat(t.toString()))}else if(!k.a.isObject(o))return new Error("".concat(r," must be an object"))}else{if("number"===e&&!k.a.isNumber(o))return new Error("".concat(r," must be a string"));if("func"===e&&!k.a.isFunction(o))return new Error("".concat(r," must be a function"))}}}:Error("Unexpected ".concat(e))},ye=function(e){return e.toLocaleDateString(void 0,{year:"2-digit",month:"2-digit",day:"2-digit"})},Se=function(e){function t(){var e,n;Object(f.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(a)))).state={curAnimateDotCount:0,animateInterval:null},n}return Object(v.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){this.startAnimate()}},{key:"componentWillUnmount",value:function(){var e=this.state.animateInterval;e&&clearInterval(e)}},{key:"startAnimate",value:function(){var e=this,n=setInterval(function(){e.setState(function(e,n){return{curAnimateDotCount:(e.curAnimateDotCount+1)%t.animateDotCountMax}})},150);this.setState({animateInterval:n})}},{key:"getAnimateString",value:function(){var e=this.state.curAnimateDotCount,n=new Array(t.animateDotCountMax),r=!0,a=!1,o=void 0;try{for(var i,s=n.keys()[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var c=i.value;n[c]=c===e?"\xb7":"."}}catch(u){a=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n.join("")}},{key:"render",value:function(){var e=this.props.text,t=this.getAnimateString();return a.a.createElement("span",{id:"LoadingIcon-react"},null!==e&&e,a.a.createElement("b",null,t))}}],[{key:"animateDotCountMax",get:function(){return 3}}]),t}(r.Component),we=n(1),Ie=n.n(we);Ie.a.bool.isRequired,Ie.a.bool.isRequired,Ie.a.bool.isRequired,Ie.a.bool.isRequired,Ie.a.bool.isRequired,Ie.a.string.isRequired,Ie.a.string.isRequired,Ie.a.func.isRequired,Ie.a.func.isRequired,Ie.a.func.isRequired;function Pe(){var e=Object(le.a)(["\n  margin-top: 10px;\n  background-color: rgb(247, 208, 177);\n  padding: 10px;\n  text-align: center;\n"]);return Pe=function(){return e},e}var Ne=de.b.div(Pe());var Ae=function(e){var t=e.isEmailValid,n=e.isNameRequire,r=e.nameIsEmpty,o=e.isSubmitFormClicked,i=e.isAjaxing,s=e.email,c=e.name,u=e.onSubmit,l=e.onEmailChange,d=e.onNameChange,p=o&&!t;return a.a.createElement(Ne,null,a.a.createElement("h2",null,"back door login"),a.a.createElement("p",null,"This is Good Neighbor ",a.a.createElement("b",null,"testing")," site. To make testing easy, you can use ",a.a.createElement("b",null,"back door login")," to by pass Google login. ",a.a.createElement("b",null,"Note"),": name field is optional unless you want to create a new account. Check out 'testing site: back door login' video for more info."),a.a.createElement("p",null,a.a.createElement("mark",null,a.a.createElement("b",null,"WARNING: "),"expect your testing data to be wiped out.")),a.a.createElement("form",{onSubmit:u},a.a.createElement("div",{className:"form-row"},a.a.createElement("div",{className:"col-sm"},a.a.createElement("div",{className:"input-group"},a.a.createElement("input",{id:"backdoorLoginEmail-react",type:"text",className:Oe()({"form-control":!0,"is-invalid":p,"is-valid":t}),onChange:function(e){l(e.target.value)},value:s,placeholder:"email"}),a.a.createElement("div",{className:"invalid-feedback"},"please enter valid email"))),a.a.createElement("div",{className:"col-sm"},a.a.createElement("div",{className:"input-group"},a.a.createElement("input",{type:"text",className:Oe()({"form-control":!0,"is-invalid":n}),onChange:function(e){d(e.target.value)},value:c,placeholder:"name"}),a.a.createElement("div",{className:"invalid-feedback"},"email is not found. Name is require to create new account"))),a.a.createElement("div",{className:"col-sm"},i?a.a.createElement(Se,{text:"please wait"}):a.a.createElement("input",{type:"submit",className:Oe()({btn:!0,"btn-block":!0,"btn-success":t&&(!n||n&&!r),"btn-secondary":!t,"btn-warning":p,"btn-danger":n&&r}),value:"back door login"})))))},Te=n(16);function je(){var e=Object(le.a)(["\n  margin-top: 3px;\n  height: 3px;\n  width: 100%;\n  background-color: ",";\n  ",";\n"]);return je=function(){return e},e}function Ue(){var e=Object(le.a)(["\n  margin-top: 6px;\n  font-weight: 100;\n  font-size: 0.8em;\n  line-height: 100%;\n  ",";\n"]);return Ue=function(){return e},e}function ke(){var e=Object(le.a)(["\n  font-size: 1.5em;\n  line-height: 100%;\n  margin-right: 2px;\n  ",";\n"]);return ke=function(){return e},e}function xe(){var e=Object(le.a)(["\n  display: flex;\n  align-items: center;\n"]);return xe=function(){return e},e}function qe(){var e=Object(le.a)(["\n  user-select: none;\n  cursor: pointer;\n  color: ",";\n  :hover {\n    color: ",";\n  }\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return qe=function(){return e},e}var De=de.b.div(qe(),function(e){return e.isSelect?e.selectColor:e.unSelectColor},function(e){return e.hoverColor}),_e=de.b.div(xe()),Fe=de.b.div(ke(),function(e){return e.isResponsive&&"@media screen and (max-width: ".concat("500px",") { font-size: 1.8em !important;}")}),Be=de.b.div(Ue(),function(e){return e.isResponsive&&"@media screen and (max-width: ".concat("500px",") { display: none;}")}),Le=de.b.div(je(),function(e){return e.isSelect&&e.selectColor},function(e){return e.isResponsive&&"@media screen and (max-width: ".concat("500px",") { margin-top: 9px !important;}")});function Ve(e){var t=e.id,n=e.isSelect,r=e.caption,o=e.iconName,i=e.onSelect,s=e.notificationItem,c=e.selectColor,u=e.unSelectColor,l=e.hoverColor,d=e.undelineColor,p=e.isResponsive;return a.a.createElement(De,{id:t,onClick:function(e){i()},selectColor:c,unSelectColor:u,hoverColor:l,undelineColor:d,isSelect:n},a.a.createElement(_e,null,o&&a.a.createElement(Fe,{isResponsive:p},a.a.createElement(Te.a,{icon:o})),s),a.a.createElement(Be,{isResponsive:p},r),a.a.createElement(Le,{selectColor:c,isSelect:n,isResponsive:p}))}function Me(){var e=Object(le.a)(["\n  background-color: ",";\n  color: white;\n  border-radius: 5px 5px;\n  padding: 1px 3px;\n  line-height: 100%;\n"]);return Me=function(){return e},e}var He=de.b.div(Me(),function(e){return e.isImportant?"red":"peru"});function Ge(e){var t=e.count,n=e.isImportant,r=void 0===n||n;return 0===t?null:a.a.createElement(He,{isImportant:r},t)}Ge.propTypes={count:Ie.a.number.isRequired,isImportant:Ie.a.bool.isRequired};var We=Ge;function $e(){var e=Object(le.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-end;\n"]);return $e=function(){return e},e}var Ye=Object(de.a)($e());function Qe(){var e=Object(le.a)(["\n  ",";\n  flex-grow: 1;\n"]);return Qe=function(){return e},e}var Ke=de.b.div(Qe(),Ye);function ze(){var e=Object(le.a)(["\n  margin: 0 20px;\n"]);return ze=function(){return e},e}function Je(){var e=Object(le.a)(["\n  margin-left: 20px;\n"]);return Je=function(){return e},e}function Xe(){var e=Object(le.a)(["\n  margin-right: 20px;\n"]);return Xe=function(){return e},e}var Ze=de.b.div(Xe()),et=de.b.div(Je()),tt=de.b.div(ze());function nt(e,t,n,r,o,i,s){return a.a.createElement(s,null,a.a.createElement(Ve,{id:e,isSelect:t,caption:n,iconName:r,onSelect:o,notificationItem:a.a.createElement(We,{count:i,isImportant:!0}),selectColor:"white",unSelectColor:"rgb(192, 203, 211)",hoverColor:"white",undelineColor:"white",isResponsive:!0}))}var rt=function(e){var t=e.onAppTabChange,n=e.selectAppTab,r=e.inPostAlertCount,o=e.outPostAlertCount,i=e.connectionAlertCount;return a.a.createElement(Ke,null,nt("tabSelector-inPost-react",n===C.INPOST,"friend posts","globe",function(e){t(C.INPOST)},r,Ze),nt("tabSelector-outPost-react",n===C.OUTPOST,"my posts","briefcase",function(e){t(C.OUTPOST)},o,tt),nt("tabSelector-connection-react",n===C.CONNECTION,"friends","user-friends",function(e){t(C.CONNECTION)},i,tt),nt("tabSelector-profile-react",n===C.PROFILE,"me","user-cog",function(e){t(C.PROFILE)},0,et))};Ie.a.func.isRequired;var at=function(e){var t=e.onGoogleLogin;return a.a.createElement("button",{onClick:t,className:"btn btn-success"},"Google login")};function ot(){var e=Object(le.a)(["\n  ",";\n  height: 57px;\n"]);return ot=function(){return e},e}var it=Object(de.a)(ot(),fe);function st(){var e=Object(le.a)(["\n  "," background-color: rgb(36, 54, 65);\n"]);return st=function(){return e},e}var ct=de.b.div(st(),it);function ut(e){var t=e.onGoogleLogin,n=e.view;return a.a.createElement(n,{onGoogleLogin:t})}ut.propTypes={onGoogleLogin:Ie.a.func.isRequired,view:Ie.a.func.isRequired};var lt=ut;function dt(){var e=Object(le.a)(["\n  align-self: center;\n"]);return dt=function(){return e},e}function pt(){var e=Object(le.a)(["\n  align-self: center;\n  flex-grow: 1;\n\n  color: white;\n  font-weight: lighter;\n  font-size: 1.3em;\n  user-select: none;\n"]);return pt=function(){return e},e}function mt(){var e=Object(le.a)(["\n  "," height: 100%;\n  display: flex;\n"]);return mt=function(){return e},e}var ft=de.b.div(mt(),Ee),ht=de.b.div(pt()),bt=de.b.div(dt());function vt(){window.location.href=P("auth.google")}var Et=function(e){var t,n=e.loginUser,r=e.isCheckedAuth,o=e.onAppTabChange,i=e.selectAppTab,s=e.inPostAlertCount,c=e.outPostAlertCount,u=e.connectionAlertCount;return t=!1===r?null:null===n?a.a.createElement(bt,null,a.a.createElement(lt,{onGoogleLogin:vt,view:at})):a.a.createElement(rt,{onAppTabChange:o,selectAppTab:i,inPostAlertCount:s,outPostAlertCount:c,connectionAlertCount:u}),a.a.createElement(ct,null,a.a.createElement(ft,null,a.a.createElement(ht,null,"Good Neighbor"),t))},gt={loginUser:function(e){return e.auth.loginUser},isCheckedAuth:function(e){return e.auth.isCheckedAuth},isCheckingAuth:function(e){return e.auth.isCheckingAuth},isLoggingOut:function(e){return e.auth.isLoggingOut}},Ct=function(e,t){return e.filter(function(e){return e.to.id===t&&e.isApproveByFrom&&void 0===e.isApproveByTo})},Ot={friend:function(e,t){return e.filter(function(e){return e.isApproveByFrom&&e.isApproveByTo&&(e.to.id===t||e.from.id===t)})},in:Ct,out:function(e,t){return e.filter(function(e){return e.from.id===t&&e.isApproveByFrom&&void 0===e.isApproveByTo})},deny:function(e,t){return e.filter(function(e){return e.to.id===t&&!1===e.isApproveByTo||e.from.id===t&&!1===e.isApproveByFrom})}},Rt=function(e){return e.connection.connections},yt={connections:Rt,isFetchingConnections:function(e){return e.connection.isFetchingConnections},isInitConnections:function(e){return e.connection.isInitConnections},updatingConnectionIds:function(e){return e.connection.updatingConnectionIds},connectionAlertCount:function(e){var t=Rt(e),n=gt.loginUser(e);return n?Ct(t,n.id).length:0}},St=n(7),wt=function(e){return e.outPost.posts},It={posts:wt,isInitPosts:function(e){return e.outPost.isInitPosts},isFetchingPosts:function(e){return e.outPost.isFetchingPosts},awaringReturnPostIds:function(e){return e.outPost.awaringReturnPostIds},requestAlertPosts:function(e){return wt(e).filter(function(e){return 0!==e.requestShares.length&&!e.curBorrowShare})},borrowPosts:function(e){return wt(e).filter(function(e){return e.curBorrowShare})},returnAlertPosts:function(e){return wt(e).filter(function(e){return e.unawareReturnShareLatest})},returnShares:function(e){var t,n=wt(e).map(function(e){return e.shares.filter(function(e){return e.isReturn})});return(t=[]).concat.apply(t,Object(St.a)(n))}},Pt=function(e){return e.inPost.posts},Nt=function(e){return e.inPost.requestingPostIds},At=function(e){return e.inPost.deletingShareIds},Tt={posts:Pt,requestingPostIds:Nt,deletingShareIds:At,isFetchingPosts:function(e){return e.inPost.isFetchingPosts},isInitPosts:function(e){return e.inPost.isInitPosts},requestPosts:function(e){var t=Pt(e),n=gt.loginUser(e);return t.filter(function(e){return e.requestShares.some(function(e){return e.borrower.id===n.id})})},borrowPosts:function(e){var t=Pt(e),n=gt.loginUser(e);return t.filter(function(e){return e.curBorrowShare&&e.curBorrowShare.borrower.id===n.id})},approveAlertPosts:function(e){var t=gt.loginUser(e);return t?Pt(e).filter(function(e){return e.shares.some(function(e){return e.borrower.id===t.id&&!0===e.isApprove&&!1===e.isAwareApprove&&!1===e.isReturn})}):[]},returnShares:function(e){var t,n=Pt(e),r=gt.loginUser(e),a=n.map(function(e){return e.shares.filter(function(e){return e.borrower.id===r.id})});return(t=[]).concat.apply(t,Object(St.a)(a)).filter(function(e){return e.isReturn})},post:function(e,t){return Pt(e).find(function(e){return e.id===t})},share:function(e,t){return Pt(e).find(function(e){return e.shares.some(function(e){return e.id===t})}).shares.find(function(e){return e.id===t})},isRequestingPost:function(e,t){return Nt(e).includes(t)},isUnRequestingPost:function(e,t){return At(e).includes(t)},isAwaringShare:function(e,t){return e.inPost.awaringShareIds.includes(t)},isReturningShare:function(e,t){return e.inPost.returningShareIds.includes(t)}},jt=Object(l.b)(function(e,t){var n=gt.loginUser(e),r=gt.isCheckedAuth(e),a=Tt.approveAlertPosts(e).length,o=It.requestAlertPosts(e),i=It.returnAlertPosts(e),s=o.length+i.length,c=yt.connectionAlertCount(e);return{loginUser:n,isCheckedAuth:r,selectAppTab:e.selectAppTab,inPostAlertCount:a,outPostAlertCount:s,connectionAlertCount:c}},function(e,t){return{onAppTabChange:function(t){return e(function(e){return{type:"CHANGE_APP_TAB",appTab:e}}(t))}}})(Et),Ut=n(71),kt=n(72),xt=(n(109),"col"),qt="col-2 text-center",Dt="col-2 text-center",_t=[["Good Neighbor: what & why","1:22","CkHOh7GKXpk"],["login/signup: single entry point","1:35","gUSjHwJ7uN4"],["testing site: back door login","1:35","WTXBSnovQhs"],["networking","1:15","Zc4sCEe7TRs"],["post, request, approve, return","5:00","KuGMl_EW55A"]],Ft=function e(t,n,r){Object(f.a)(this,e),Object.assign(this,{title:t,duration:n,id:r})},Bt=function(e){function t(){var e,n;Object(f.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(a)))).state={curVideo:t.VIDEOS[0],player:null,isPlayerPlaying:!1},n.onToogleVideoCb=function(e){var t=n.state.player;null!==t&&(e.id!==n.state.curVideo.id?(n.setState({curVideo:e}),setTimeout(function(){n.state.player.playVideo()},0)):t.getPlayerState()===window.YT.PlayerState.PLAYING?t.pauseVideo():t.playVideo())},n.onPlayerLoaded=function(e){n.setState({player:e.target})},n.onPlayerStateChange=function(e){e.data===window.YT.PlayerState.PLAYING?n.setState({isPlayerPlaying:!0}):n.setState({isPlayerPlaying:!1})},n}return Object(v.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this,n=this.state,r=n.curVideo,o=n.isPlayerPlaying,i=t.VIDEOS.map(function(t){return a.a.createElement(Lt,{key:t.id,video:t,isPlaying:t.id===r.id&&o,onToogleVideoCb:e.onToogleVideoCb})});return a.a.createElement("div",{className:"videoPlayList"},a.a.createElement("div",{className:"videoList"},a.a.createElement("table",{className:"table table-sm table-striped table-bordered"},a.a.createElement("thead",{className:"thead-light"},a.a.createElement("tr",{className:"d-flex"},a.a.createElement("th",{scope:"col",className:xt},"manual videos"),a.a.createElement("th",{scope:"col",className:qt},a.a.createElement(Te.a,{icon:"clock"})),a.a.createElement("th",{scope:"col",className:Dt},"play"))),a.a.createElement("tbody",null,i))),a.a.createElement("div",{className:"youtube-player"},a.a.createElement("div",{className:"player-wrapper"},a.a.createElement(kt.a,{videoId:this.state.curVideo.id,opts:{playerVars:{autoplay:0,rel:0}},onReady:this.onPlayerLoaded,onStateChange:this.onPlayerStateChange}))))}}],[{key:"VIDEOS",get:function(){return _t.map(function(e){return Object(Ut.a)(Ft,Object(St.a)(e))})}}]),t}(r.Component);function Lt(e){var t=e.video,n=e.isPlaying,r=e.onToogleVideoCb;return a.a.createElement("tr",{className:"d-flex"},a.a.createElement("td",{className:xt},t.title),a.a.createElement("td",{className:qt},t.duration),a.a.createElement("td",{className:Dt},a.a.createElement("button",{onClick:function(e){return r(t)},className:Oe()({btn:!0,"btn-sm":!0,"btn-warning":n,"btn-success":!n})},n?a.a.createElement(Te.a,{icon:"pause"}):a.a.createElement(Te.a,{icon:"play"}))))}Lt.propType={video:Ie.a.object.isRequired,isPlaying:Ie.a.bool.isRequired,onToogleVideoCb:Ie.a.func.isRequired};var Vt=function(){return a.a.createElement("div",{id:"appPublic-react"},a.a.createElement(Bt,null))};function Mt(){var e=Object(le.a)(["\n  display: ",";\n"]);return Mt=function(){return e},e}var Ht=de.b.div(Mt(),function(e){return e.show?"block":"none"}),Gt=function(e){function t(){return Object(f.a)(this,t),Object(h.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),t}(E.Enum);Gt.initEnum(["ALL","REQUEST","APPROVE","BORROW","HISTORY"]);var Wt=Gt;var $t=function(e){var t=e.id,n=e.isSelect,r=e.caption,o=e.iconName,i=e.onSelect,s=e.notificationItem,c=e.isResponsive;return a.a.createElement(Ve,{id:t,isSelect:n,caption:r,iconName:o,onSelect:i,notificationItem:s,selectColor:"maroon",unSelectColor:"rgb(214, 174, 139)",hoverColor:"maroon",undelineColor:"maroon",isResponsive:c})};function Yt(){var e=Object(le.a)(["\n  ",";\n  flex-grow: 1;\n"]);return Yt=function(){return e},e}var Qt=de.b.div(Yt(),Ye);function Kt(e,t,n,r,o,i,s,c){return a.a.createElement($t,{id:e,isSelect:t,caption:n,iconName:r,onSelect:o,notificationItem:a.a.createElement(We,{count:i,isImportant:s}),isResponsive:c})}var zt=function(e){var t=e.selectTab,n=e.onTabChange,r=e.allCount,o=e.requestCount,i=e.approveCount,s=e.borrowCount,c=e.historyCount;return a.a.createElement(Qt,null,Kt("tabSelector-inPost-all-react",t===Wt.ALL,"all friend posts","globe",function(e){n(Wt.ALL)},r,!1,!1),Kt("tabSelector-inPost-request-react",t===Wt.REQUEST,"request","question",function(e){n(Wt.REQUEST)},o,!1,!0),Kt("tabSelector-inPost-approve-react",t===Wt.APPROVE,"approve","check",function(e){n(Wt.APPROVE)},i,!0,!0),Kt("tabSelector-inPost-borrow-react",t===Wt.BORROW,"borrow","hand-holding-heart",function(e){n(Wt.BORROW)},s,!1,!0),Kt("tabSelector-inPost-history-react",t===Wt.HISTORY,"history","history",function(e){n(Wt.HISTORY)},c,!1,!0))};function Jt(){var e=Object(le.a)(["\n  border: 1px solid lightgrey;\n  border-bottom-width: 0px;\n  border-right-width: 0px;\n  box-shadow: 2px 2px 3px grey;\n"]);return Jt=function(){return e},e}var Xt=Object(de.a)(Jt());function Zt(){var e=Object(le.a)(["\n  margin-top: 10px ",";\n"]);return Zt=function(){return e},e}var en=de.b.div(Zt(),Xt);function tn(){var e=Object(le.a)(["\n  padding: 10px;\n  background: white;\n  ",";\n"]);return tn=function(){return e},e}var nn=Object(de.a)(tn(),Xt);function rn(){var e=Object(le.a)(["\n  ","\n"]);return rn=function(){return e},e}var an=de.b.div(rn(),nn);Ie.a.arrayOf(Ie.a.instanceOf(q));var on=function(e){var t=e.shares.map(function(e){return a.a.createElement("tr",{key:e.id},a.a.createElement("td",null,e.borrower.getNameAndEmail()),a.a.createElement("td",null,ye(e.dateCreate)))});return a.a.createElement("table",{className:"my-table table-sm table-bordered table-striped"},a.a.createElement("thead",{className:"thead-light"},a.a.createElement("tr",{className:"thead-"},a.a.createElement("th",null,"request"),a.a.createElement("th",null,"date"))),a.a.createElement("tbody",null,t))};var sn=function(e){var t=e.shares.map(function(e){return a.a.createElement("tr",{key:e.id},a.a.createElement("td",null,e.borrower.getNameAndEmail()),a.a.createElement("td",null,ye(e.dateReturn)))});return a.a.createElement("table",{className:"my-table table-sm table-bordered table-striped"},a.a.createElement("thead",{className:"thead-light"},a.a.createElement("tr",null,a.a.createElement("th",null,"history"),a.a.createElement("th",null,"date"))),a.a.createElement("tbody",null,t))};function cn(e){var t=e.shares,n=e.view,r=Object(St.a)(t).sort(function(e,t){return t.dateReturn-e.dateReturn});return a.a.createElement(n,{shares:r})}cn.propTypes={shares:Ie.a.arrayOf(Ie.a.instanceOf(q)).isRequired,view:Ie.a.func.isRequired};var un=cn;function ln(){var e=Object(le.a)(["\n  margin-top: 10px;\n  flex-direction: column;\n"]);return ln=function(){return e},e}var dn=Object(de.a)(ln());Ie.a.instanceOf(x).isRequired;function pn(e){var t=e.shares,n=e.view,r=Object(St.a)(t).sort(function(e,t){return e.dateCreate-t.dateCreate});return a.a.createElement(n,{shares:r})}pn.propTypes={shares:Ie.a.arrayOf(Ie.a.instanceOf(q)).isRequired,view:Ie.a.func.isRequired};var mn=pn;function fn(){var e=Object(le.a)(["\n  margin-top: 10px;\n"]);return fn=function(){return e},e}function hn(){var e=Object(le.a)(["\n  margin-top: 10px;\n"]);return hn=function(){return e},e}function bn(){var e=Object(le.a)(["\n  ","\n  display: flex;\n"]);return bn=function(){return e},e}var vn=de.b.div(bn(),dn),En=de.b.div(hn()),gn=de.b.div(fn());var Cn=function(e){var t=e.post,n=t.title,r=t.description,o=t.curBorrowShare,i=o?o.borrower:null;return a.a.createElement(vn,null,a.a.createElement("div",null,a.a.createElement("span",{className:"text-secondary font-weight-light"},"title: "),n),a.a.createElement("div",null,a.a.createElement("span",{className:"text-secondary font-weight-light"},"description: "),r),i&&a.a.createElement("div",{className:"text-left mt-1"},a.a.createElement("mark",null,a.a.createElement("span",{className:"text-muted font-weight-light"},"borrowing by: "),i.getNameAndEmail())),0!==t.requestShares.length&&a.a.createElement(En,null,a.a.createElement(mn,{shares:t.requestShares,view:on})),0!==t.returnShares.length&&a.a.createElement(gn,null,a.a.createElement(un,{shares:t.returnShares,view:sn})))};function On(){var e=Object(le.a)(["\n  flex-grow: 1;\n"]);return On=function(){return e},e}function Rn(){var e=Object(le.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return Rn=function(){return e},e}var yn=de.b.div(Rn()),Sn=de.b.div(On());var wn=function(e){var t=e.postUserName,n=e.postUserEmail,r=e.dateCreate;return a.a.createElement(yn,null,a.a.createElement(Sn,null,a.a.createElement("span",{className:"text-primary font-weight-bold"},t),n&&a.a.createElement("span",{className:"text-secondary font-weight-light"}," ".concat(n))),a.a.createElement("div",{className:"text-secondary font-weight-light"},"post on: ".concat(ye(r))))},In={postId:Ie.a.string.isRequired,isRequestingPost:Ie.a.bool.isRequired,onRequestPost:Ie.a.func.isRequired};function Pn(e){var t=e.postId,n=e.isRequestingPost,r=e.onRequestPost;return n?a.a.createElement(Se,{text:"requesting"}):a.a.createElement("button",{id:"outPostItem-requestBtn-react",className:"btn btn-success",onClick:function(e){r(t)}},"request")}Pn.propTypes=In;var Nn=Pn;function An(e){var t=e.view;return a.a.createElement(t,e)}An.propTypes={view:Ie.a.func.isRequired};var Tn=An,jn=function(e){return function(t,n){return t({type:"INFORM_UNREQUEST_INPOST",shareId:e}),ce.deleteShare(e).then(function(){return t({type:"RECEIVE_UNREQUEST_INPOST",shareId:e})})}},Un=Object(l.b)(function(e,t){var n=t.myRequestShareId;return{myRequestShareId:n,isUnRequestingPost:Tt.isUnRequestingPost(e,n)}},function(e,t){return{onUnRequestPost:function(t){return e(jn(t))}}})(Tn);Un.propTypes={myRequestShareId:Ie.a.string.isRequired};var kn=Un;Ie.a.string.isRequired,Ie.a.bool.isRequired,Ie.a.func.isRequired;var xn=function(e){var t,n=e.myRequestShareId,r=e.isUnRequestingPost,o=e.onUnRequestPost;return t=r?a.a.createElement(Se,{text:"undo"}):a.a.createElement("button",{id:"outPostItem-undoRequestBtn-react",onClick:function(e){o(n)},className:"btn btn-warning"},"undo"),a.a.createElement("div",{className:"text-success"},a.a.createElement("span",{className:"mr-1"},"you're in the waiting list."),t)},qn=function(e){return function(t,n){return t({type:"INFORM_RETURN_INPOST",shareId:e}),ce.returnShare(e).then(function(n){var r=n.resultIsReturnByTo,a=n.resultDateReturn;t({type:"RECEIVE_RETURN_INPOST",shareId:e,resultIsReturnByTo:r,resultDateReturn:a})})}},Dn=function(e){return function(t,n){return t({type:"INFORM_AWARE_APPROVE_INPOST",shareId:e}),ce.awareApproveShare(e).then(function(n){t({type:"RECEIVE_AWARE_APPROVE_INPOST",shareId:e,isAwareApprove:n})})}},_n=Object(l.b)(function(e,t){var n=t.myBorrowShareId;return{myBorrowShareId:n,isAwareApproveBorrowShare:Tt.share(e,n).isAwareApprove,isAwaringShare:Tt.isAwaringShare(e,n),isReturningShare:Tt.isReturningShare(e,n)}},function(e,t){return{onAwareApprovePost:function(t){return e(Dn(t))},onReturnPost:function(t){return e(qn(t))}}})(Tn);_n.propTypes={myBorrowShareId:Ie.a.string.isRequired};var Fn=_n;Ie.a.string.isRequired,Ie.a.bool.isRequired,Ie.a.bool.isRequired,Ie.a.bool.isRequired,Ie.a.func.isRequired,Ie.a.func.isRequired;var Bn=function(e){var t,n,r=e.myBorrowShareId,o=e.isAwareApproveBorrowShare,i=e.isAwaringShare,s=e.isReturningShare,c=e.onAwareApprovePost,u=e.onReturnPost;return t=o?a.a.createElement("span",null,"You've received."):i?a.a.createElement(Se,{text:"aware approve"}):a.a.createElement("button",{id:"outPostItem-awareApproveBtn-react",className:"btn btn-sm btn-success",onClick:function(e){c(r)}},"confirm approved"),n=s?a.a.createElement(Se,{text:"return"}):a.a.createElement("button",{id:"outPostItem-returnBtn-react",className:"btn btn-sm btn-warning ml-1",onClick:function(e){u(r)}},"return item"),a.a.createElement("div",{className:"text-success"},"request approved.",a.a.createElement("span",{className:"ml-1"},t),n)},Ln={postId:Ie.a.string.isRequired,myRequestShareId:Re("string"),myBorrowShareId:Re("string"),isActivePost:Ie.a.bool.isRequired},Vn=function(e){return function(t,n){return t({type:"INFORM_REQUEST_INPOST",postId:e}),ce.createShare(e).then(function(r){var a=r.id,o=r.dateCreate;return t({type:"RECEIVE_REQUEST_INPOST",postId:e,shareId:a,shareDateCreate:o,loginUser:gt.loginUser(n())})})}},Mn=Object(l.b)(function(e,t){var n=t.postId;return{postId:n,isRequestingPost:Tt.isRequestingPost(e,n)}},function(e,t){return{onRequestPost:function(t){return e(Vn(t))}}})(Tn);Mn.propTypes={postId:Ie.a.string.isRequired};var Hn=Mn;function Gn(e){var t=e.postId,n=e.myRequestShareId,r=e.myBorrowShareId,o=e.isActivePost;return n?a.a.createElement(kn,{myRequestShareId:n,view:xn}):r?a.a.createElement(Fn,{myBorrowShareId:r,view:Bn}):o?a.a.createElement(Hn,{postId:t,view:Nn}):a.a.createElement("div",null,"Post is no longer active")}Gn.propTypes=Ln;var Wn=Gn;function $n(){var e=Object(le.a)(["\n  margin-top: 10px;\n  display: flex;\n  justify-content: flex-end;\n"]);return $n=function(){return e},e}var Yn=de.b.div($n());var Qn=Object(l.b)(function(e,t){var n=t.postId,r=Tt.post(e,n),a=function(e,t){var n=e.curBorrowShare,r=null;return n&&n.borrower.id===t&&(r=n),{userBorrowShare:r,userRequestShare:e.requestShares.find(function(e){return e.borrower.id===t})||null}}(r,gt.loginUser(e).id),o=a.userBorrowShare,i=a.userRequestShare;return{postId:r.id,myRequestShareId:i?i.id:null,myBorrowShareId:o?o.id:null,isActivePost:r.isActive}},function(e,t){return{}})(Tn);Qn.propTypes={postId:Ie.a.string.isRequired};var Kn=Qn;var zn=function(e){var t=e.post;return a.a.createElement(an,{id:"inPost-item-react"},a.a.createElement(wn,{postUserName:t.user.name,postUserEmail:t.user.email,dateCreate:t.dateCreate}),a.a.createElement(Cn,{post:t}),a.a.createElement(Yn,null,a.a.createElement(Kn,{postId:t.id,view:Wn})))};function Jn(){var e=Object(le.a)(["\n  margin-top: 10px;\n  background-color: white;\n  padding: 10px;\n  ",";\n"]);return Jn=function(){return e},e}var Xn=Object(de.a)(Jn(),Xt);function Zn(){var e=Object(le.a)(["\n  font-size: 1.5em;\n  font-weight: 500;\n  color: darkgrey;\n  text-align: center;\n"]);return Zn=function(){return e},e}function er(){var e=Object(le.a)(["\n  ","\n"]);return er=function(){return e},e}var tr=de.b.div(er(),Xn),nr=de.b.div(Zn());var rr=function(e){return a.a.createElement(tr,null,a.a.createElement(nr,null,"there are no data"))};Ie.a.string.isRequired,Ie.a.array.isRequired;function ar(e){var t=e.posts;return(0,e.renderProp)(Object(St.a)(t).sort(function(e,t){return t.dateCreate-e.dateCreate}))}ar.propTypes={posts:Ie.a.array.isRequired,renderProp:Ie.a.func.isRequired};var or=ar;function ir(){var e=Object(le.a)(["\n  margin-top: 10px;\n  margin-bottom: 10px;\n"]);return ir=function(){return e},e}var sr=de.b.div(ir());function cr(e){return 0===e.length?a.a.createElement(rr,null):e.map(function(e){return a.a.createElement(sr,{key:e.id},a.a.createElement(zn,{post:e}))})}var ur=function(e){var t=e.listId,n=e.posts;return a.a.createElement("div",{id:t},a.a.createElement(or,{posts:n,renderProp:cr}))};function lr(){var e=Object(le.a)(["\n  background-color: antiquewhite;\n"]);return lr=function(){return e},e}var dr=Object(de.a)(lr());function pr(){var e=Object(le.a)(["\n  display: flex;\n  height: 100%;\n  ",";\n"]);return pr=function(){return e},e}function mr(){var e=Object(le.a)(["\n  "," ",";\n"]);return mr=function(){return e},e}var fr=de.b.div(mr(),it,dr),hr=de.b.div(pr(),Ee);var br=function(e){return a.a.createElement(fr,null,a.a.createElement(hr,null,e.children))};Ie.a.arrayOf(Ie.a.instanceOf(q)).isRequired;var vr=function(e){var t=e.shares;if(0===t.length)return a.a.createElement(rr,null);var n=t.map(function(e){var t=e.post;return a.a.createElement("tr",{key:e.id},a.a.createElement("td",null,ye(e.dateReturn)),a.a.createElement("td",null,t.title),a.a.createElement("td",null,t.user.getNameAndEmail()))});return a.a.createElement("table",{id:"InShareReturnTable-react",className:"table table-sm table-striped table-bordered"},a.a.createElement("tbody",null,n))};function Er(e){var t=e.shares,n=e.view,r=Object(St.a)(t).sort(function(e,t){return t.dateReturn-e.dateReturn});return a.a.createElement(n,{shares:r})}Er.propTypes={shares:Ie.a.arrayOf(Ie.a.instanceOf(q)).isRequired,view:Ie.a.func.isRequired};var gr=Er,Cr=(Ie.a.array.isRequired,Ie.a.bool.isRequired,Ie.a.bool.isRequired,Ie.a.array.isRequired,Ie.a.array.isRequired,Ie.a.array.isRequired,Ie.a.array.isRequired,function(e){function t(){var e,n;Object(f.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(a)))).state={selectTab:Wt.ALL},n.onTabChange=function(e){n.setState({selectTab:e})},n}return Object(v.a)(t,e),Object(N.a)(t,[{key:"_getPostsContent",value:function(){var e=this.state.selectTab,t=this.props,n=t.posts,o=t.requestPosts,i=t.borrowPosts,s=t.approveAlertPosts,c=t.returnShares;return a.a.createElement(r.Fragment,null,a.a.createElement(br,null,a.a.createElement(zt,{selectTab:e,onTabChange:this.onTabChange,allCount:n.length,requestCount:o.length,approveCount:s.length,borrowCount:i.length,historyCount:c.length})),a.a.createElement(ge,null,a.a.createElement(Ht,{show:e===Wt.ALL},a.a.createElement(ur,{listId:"inPostList-all-react",posts:n})),a.a.createElement(Ht,{show:e===Wt.REQUEST},a.a.createElement(ur,{listId:"inPostList-request-react",posts:o})),a.a.createElement(Ht,{show:e===Wt.APPROVE},a.a.createElement(ur,{listId:"inPostList-approveNote-react",posts:s})),a.a.createElement(Ht,{show:e===Wt.BORROW},a.a.createElement(ur,{listId:"inPostList-borrow-react",posts:i})),a.a.createElement(Ht,{show:e===Wt.HISTORY},a.a.createElement(en,null,a.a.createElement(gr,{shares:c,view:vr})))))}},{key:"render",value:function(){var e=this.props,t=e.isInitPosts,n=e.isFetchingPosts;return a.a.createElement("div",{id:"inPostManagement-react"},n&&a.a.createElement("h1",{className:"text-center"},a.a.createElement(Se,{text:"loading"})),t&&this._getPostsContent())}}]),t}(r.Component)),Or=n(75),Rr=n.n(Or),yr=function(){return function(e,t){e({type:"INFORM_FETCH_OUTPOSTS"}),ce.outPosts().then(function(t){return e({type:"RECEIVE_FETCH_OUTPOSTS",posts:t})})}},Sr=function(e,t,n,r){return ce.approveShare(n,r).then(function(t){return e({type:"RECEIVE_DECIDE_POST",shareId:n,resultIsApprove:t}),{shareId:n,resultIsApprove:t}})},wr=function(e){function t(){return Object(f.a)(this,t),Object(h.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchPosts()}},{key:"render",value:function(){return a.a.createElement(this.props.view,this.props)}}]),t}(r.Component),Ir=Rr()(function(e,t){return{posts:It.posts(e),isInitPosts:It.isInitPosts(e),isFetchingPosts:It.isFetchingPosts(e),awaringReturnPostIds:It.awaringReturnPostIds(e),requestAlertPosts:It.requestAlertPosts(e),borrowPosts:It.borrowPosts(e),returnAlertPosts:It.returnAlertPosts(e),returnShares:It.returnShares(e)}},function(e,t){return{fetchPosts:function(){return e(yr())},onCreateOrUpdatePost:function(t,n,r,a){return e(function(e,t,n,r){return function(a,o){return e?ce.updatePost(e,t,n,r).then(function(t){var n=t.updatedTitle,r=t.updatedDescription,o=t.updatedIsActive;a({type:"RECIEVE_UPDATE_POST",postId:e,updatedTitle:n,updatedDescription:r,updatedIsActive:o})}):ce.createPost(t,n,r).then(function(e){var t=e.createdId,n=e.createdIsActive,r=e.createdTitle,i=e.createdDescription,s=e.createdDateCreated,c=new x(t,o().loginUser,n,r,i,new Date(s),[]);return a({type:"RECEIVE_CREATE_POST",post:c}),c})}}(t,n,r,a))},onDecideShare:function(t,n){return e(function(e,t){return function(n,r){return Sr(n,r,e,t)}}(t,n))},onUndoDenyShare:function(t){return e(function(e){return function(t,n){return Sr(t,n,e,void 0)}}(t))},onUndoApproveShare:function(t){return e(function(e){return function(t,n){return Sr(t,n,e,void 0)}}(t))},onAwareReturnPost:function(t){return e(function(e){return function(t,n){t({type:"INFORM_AWARE_RETURN_POST",postId:e}),ce.awareReturnPost(e).then(function(){return t({type:"RECEIVE_AWARE_RETURN_POST",postId:e})})}}(t))}}})(wr),Pr=function(){return function(e,t){return e({type:"INFORM_FETCH_INPOSTS"}),ce.inPosts().then(function(n){return e({type:"RECEIVE_FETCH_INPOSTS",posts:n,loginUserId:gt.loginUser(t()).id})})}},Nr=function(e){function t(){return Object(f.a)(this,t),Object(h.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchInPosts()}},{key:"render",value:function(){var e=this.props,t=e.view;return a.a.createElement(t,e)}}]),t}(r.Component),Ar=Object(l.b)(function(e,t){return{posts:Tt.posts(e),isFetchingPosts:Tt.isFetchingPosts(e),isInitPosts:Tt.isInitPosts(e),requestPosts:Tt.requestPosts(e),borrowPosts:Tt.borrowPosts(e),approveAlertPosts:Tt.approveAlertPosts(e),returnShares:Tt.returnShares(e)}},function(e,t){return{fetchInPosts:function(){return e(Pr())}}})(Nr),Tr=n(29),jr=n.n(Tr),Ur=n(76),kr=n.n(Ur),xr=n(15),qr=n.n(xr);jr.a.setAppElement("#root");var Dr=function(e){function t(e){var n,o;return Object(f.a)(this,t),(n=Object(h.a)(this,Object(b.a)(t).call(this,e))).onTitleChange=function(e){var t=qr()(n.state.post,{title:{$set:e.target.value}});n.setState({post:t})},n.onDescriptionChange=function(e){var t=qr()(n.state.post,{description:{$set:e.target.value}});n.setState({post:t})},n.onIsActiveChange=function(e){var t=qr()(n.state.post,{isActive:{$set:e.target.checked}});n.setState({post:t})},n.onSubmitPost=function(e){var t=n.state.post;n.props.onOk(t.id,t.title,t.description,t.isActive),e.preventDefault()},n.getOkCancelHtml=function(){var e=n.state,t=e.isValidTitle,o=e.isValidDescription;return n.props.isCrudingPost?a.a.createElement("h1",null,a.a.createElement(Se,{text:n.props.post?"Editing":"Creating"})):a.a.createElement(r.Fragment,null,a.a.createElement("button",{disabled:!n.state.isPostChanged||!t||!o,type:"submit",className:"btn btn-lg btn-primary"},"ok"),a.a.createElement("button",{type:"button",onClick:n.props.onCancel,className:"btn btn-lg btn-warning"},"cancel"))},o=e.post?kr.a.cloneDeep(e.post):new x(null,null,!0,"","",null,null),n.state={post:o},n}return Object(v.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this.state.post,t=this.state,n=t.isValidTitle,r=t.isValidDescription,o=this.props.post?"Edit '".concat(this.props.post.title,"' post"):"Create new post";return a.a.createElement("div",{id:"OutPostCrudDialog-react"},a.a.createElement(jr.a,{isOpen:this.props.isOpen,shouldCloseOnOverlayClick:!1,shouldCloseOnEsc:!1},a.a.createElement("h1",{className:"ReactModal__title"},o),a.a.createElement("form",{id:"outPostCrudDialogForm-react",onSubmit:this.onSubmitPost},a.a.createElement("div",{className:"form-group row"},a.a.createElement("label",{htmlFor:"outpostCrudDialogFormTitle",className:"col-sm-2 col-form-label"},"Title"),a.a.createElement("div",{className:"col-sm-10"},a.a.createElement("input",{id:"outpostCrudDialogFormTitle",type:"text",className:Oe()({"form-control":!0,"is-valid":n,"is-invalid":!n}),"aria-describedby":"post title",onChange:this.onTitleChange,value:e.title,placeholder:"post title"}),a.a.createElement("div",{className:"invalid-feedback"},"required"))),a.a.createElement("div",{className:"form-group row"},a.a.createElement("label",{htmlFor:"outpostCrudDialogFormDescription",className:"col-sm-2 col-form-label"},"Description"),a.a.createElement("div",{className:"col-sm-10"},a.a.createElement("textarea",{id:"outpostCrudDialogFormDescription",type:"text",className:Oe()({"form-control":!0,"is-valid":r,"is-invalid":!r}),"aria-describedby":"post description",onChange:this.onDescriptionChange,value:e.description,rows:"4",placeholder:"post description"}),a.a.createElement("div",{className:"invalid-feedback"},"required"))),a.a.createElement("div",{className:"form-group row"},a.a.createElement("div",{className:"col-sm-2"},"Is Active"),a.a.createElement("div",{className:"col-sm-10"},a.a.createElement("div",{className:"form-check"},a.a.createElement("input",{className:"form-check-input",type:"checkbox",id:"outpostCrudDialogFormIsActive",checked:e.isActive,onChange:this.onIsActiveChange}),a.a.createElement("label",{className:"form-check-label",htmlFor:"outpostCrudDialogFormIsActive"},"Is Active")))),a.a.createElement("div",{className:"text-center"},this.getOkCancelHtml()))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.post,r=e.post;return{isPostChanged:r?n.title!==r.title||n.description!==r.description||n.isActive!==r.isActive:""!==n.title||""!==n.description||!0!==n.isActive,isValidTitle:Boolean(n.title.trim()),isValidDescription:Boolean(n.description.trim())}}}]),t}(r.Component);jr.a.setAppElement("#root");var _r="col-10",Fr="col-2 text-center";function Br(e){var t=e.shares,n=e.onUndoDenyShare,r=t.map(function(e){return a.a.createElement(Lr,{key:e.id,share:e,onUndoDenyShare:n})});return a.a.createElement("table",{id:"OutShareDeniedTable-react",className:"table table-striped table-bordered"},a.a.createElement("thead",{className:"thead-light"},a.a.createElement("tr",null,a.a.createElement("th",{className:_r},"denial list"),a.a.createElement("th",{className:Fr},"undo"))),a.a.createElement("tbody",null,r))}function Lr(e){var t=e.share,n=e.onUndoDenyShare;return a.a.createElement("tr",{className:"OutShareDeniedTableRow"},a.a.createElement("td",{className:_r},t.borrower.getNameAndEmail()),a.a.createElement("td",{className:Fr},a.a.createElement("button",{className:"btn btn-success OutShareDeniedTableRowUndoBtn",onClick:function(e){n(t.id)}},a.a.createElement(Te.a,{icon:"undo-alt"}))))}var Vr="col-8",Mr="col-2",Hr="text-center col-1",Gr="text-center col-1";function Wr(e){var t=e.shares,n=e.onDecideShare,r=t.sort(function(e,t){return e.dateCreate-t.dateCreate}).map(function(e){return a.a.createElement($r,{key:e.id,share:e,onDecideShare:n})});return a.a.createElement("table",{className:"table table-striped table-bordered",id:"OutShareRequestTable"},a.a.createElement("thead",{className:"thead-light"},a.a.createElement("tr",null,a.a.createElement("th",{className:Vr},"waiting list"),a.a.createElement("th",{className:Mr},"date"),a.a.createElement("th",{className:Hr},a.a.createElement(Te.a,{icon:"thumbs-up"})),a.a.createElement("th",{className:Gr},a.a.createElement(Te.a,{icon:"thumbs-up"})))),a.a.createElement("tbody",null,r))}function $r(e){var t=e.share,n=e.onDecideShare;return a.a.createElement("tr",{className:"OutShareRequestTableRow"},a.a.createElement("td",{className:Vr},t.borrower.getNameAndEmail()),a.a.createElement("td",{className:Mr},ye(t.dateCreate)),a.a.createElement("td",{className:Hr},!Boolean(t.post.curBorrowShare)&&a.a.createElement("button",{className:"OutShareRequestTableRowApproveBtn btn btn-success",onClick:function(e){n(t.id,!0)}},a.a.createElement(Te.a,{icon:"thumbs-up"}))),a.a.createElement("td",{className:Gr},a.a.createElement("button",{className:"OutShareRequestTableRowDenyBtn btn btn-warning",onClick:function(e){n(t.id,!1)}},a.a.createElement(Te.a,{icon:"thumbs-down"}))))}var Yr=function(e){var t=e.isOpen,n=e.post,o=e.onUndoApproveShare,i=e.onUndoDenyShare,s=e.onDecideShare,c=e.onExit,u=e.isDecidingPost,l=n.curBorrowShare,d=l?l.borrower:null,p=a.a.createElement(r.Fragment,null,a.a.createElement("h3",{className:"text-center"},"Current borrower: ",d?d.email:"none",d&&a.a.createElement("button",{className:"btn btn-lg btn-warning",id:"OutPostDecisionDialogUndoApproveBtn",onClick:function(){o(l.id)}},"undo")),a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-sm-7"},a.a.createElement(Wr,{shares:n.requestShares,onDecideShare:s})),a.a.createElement("div",{className:"col-sm-5"},a.a.createElement(Br,{shares:n.denyShares,onUndoDenyShare:i})))),a.a.createElement("div",{className:"text-center"},a.a.createElement("button",{className:"btn btn-lg btn-warning",id:"OutPostDecisionDialogExitBtn",onClick:function(e){c()}},"exit")));return a.a.createElement(jr.a,{isOpen:t,shouldCloseOnOverlayClick:!1,shouldCloseOnEsc:!1},a.a.createElement("div",{id:"outPostDecisionDialog-react"},a.a.createElement("h1",{className:"ReactModal__title"},"Share '".concat(n.title,"'")),u?a.a.createElement("h1",{className:"text-center"},a.a.createElement(Se,{text:"please wait"})):p))};Ie.a.string.isRequired,Ie.a.func.isRequired,Ie.a.instanceOf(Date).isRequired;function Qr(){var e=Object(le.a)(["\n  flex-grow: 1;\n"]);return Qr=function(){return e},e}function Kr(){var e=Object(le.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return Kr=function(){return e},e}var zr=de.b.div(Kr()),Jr=de.b.div(Qr());var Xr=function(e){var t=e.postId,n=e.dateCreate,r=e.onUpdatePostClick;return a.a.createElement(zr,null,a.a.createElement(Jr,null,a.a.createElement("button",{id:"outPostItem-editBtn-react",onClick:function(){return r(t)},className:"btn btn-sm btn-primary"},"edit post")),a.a.createElement("div",{className:"text-secondary font-weight-light"},"post on: ".concat(ye(n))))};Ie.a.string.isRequired,Ie.a.bool.isRequired,Re("object",T),Ie.a.func.isRequired,Ie.a.bool.isRequired,Ie.a.func.isRequired;var Zr=function(e){var t=e.postId,n=e.isAwaringReturn,o=e.borrowerOfTheLatestUnawareReturn,i=e.onAwareReturnPost,s=e.isDecidablePost,c=e.onDecidePostClick;return a.a.createElement(r.Fragment,null,o&&a.a.createElement("span",null,n?a.a.createElement(Se,{text:"confirming"}):a.a.createElement("button",{id:"outPostItem-awareReturnBtn-react",onClick:function(){return i(t)},className:"btn btn-sm btn-success"},"confirm returned by ".concat(o.getNameAndEmail()))),s&&a.a.createElement("button",{id:"outPostItem-decisionBtn-react",onClick:function(){return c(t)},className:"btn btn-sm btn-success ml-1"},"share"))};Ie.a.object.isRequired,Ie.a.func.isRequired,Ie.a.func.isRequired,Ie.a.func.isRequired,Ie.a.bool.isRequired;var ea={isDecidablePost:function(e){return Boolean(0!==e.denyShares.length||0!==e.requestShares.length||e.curBorrowShare)},getBorrowerOfTheLatestUnawareReturn:function(e){return e.unawareReturnShareLatest?e.unawareReturnShareLatest.borrower:null}};var ta=function(e){var t=e.post,n=e.onUpdatePostClick,r=e.onDecidePostClick,o=e.onAwareReturnPost,i=e.isAwaringReturn,s=t.id;return a.a.createElement(an,{id:"outPost-item-react"},a.a.createElement(Xr,{postId:s,onUpdatePostClick:n,dateCreate:t.dateCreate}),a.a.createElement(Cn,{post:t}),a.a.createElement(Yn,null,a.a.createElement(Zr,{postId:s,isAwaringReturn:i,borrowerOfTheLatestUnawareReturn:ea.getBorrowerOfTheLatestUnawareReturn(t),onAwareReturnPost:o,isDecidablePost:ea.isDecidablePost(t),onDecidePostClick:r})))};Ie.a.string.isRequired,Ie.a.array.isRequired,Ie.a.array.isRequired,Ie.a.func.isRequired,Ie.a.func.isRequired,Ie.a.func.isRequired;function na(){var e=Object(le.a)(["\n  margin-top: 10px;\n  margin-bottom: 10px;\n"]);return na=function(){return e},e}var ra=de.b.div(na());var aa=function(e){var t,n=e.listId,r=e.posts,o=e.onUpdatePostClick,i=e.onDecidePostClick,s=e.onAwareReturnPost,c=e.awaringReturnPostIds;return t=0===r.length?a.a.createElement(rr,null):r.map(function(e){return a.a.createElement(ra,{key:e.id},a.a.createElement(ta,{post:e,onUpdatePostClick:o,onDecidePostClick:i,onAwareReturnPost:s,isAwaringReturn:c.includes(e.id)}))}),a.a.createElement("div",{id:n},t)},oa=function(e){function t(){return Object(f.a)(this,t),Object(h.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),t}(E.Enum);oa.initEnum(["ALL","REQUEST","BORROW","RETURN","HISTORY"]);var ia=oa;function sa(){var e=Object(le.a)(["\n  display: flex;\n  align-self: center;\n"]);return sa=function(){return e},e}var ca=de.b.div(sa());function ua(e,t,n,r,o,i,s,c){return a.a.createElement($t,{id:e,isSelect:t,caption:n,iconName:r,onSelect:o,notificationItem:a.a.createElement(We,{count:i,isImportant:s}),isResponsive:c})}var la=function(e){var t=e.selectTab,n=e.onTabChange,r=e.onOpenCreatePostDialog,o=e.allCount,i=e.requestCount,s=e.borrowCount,c=e.returnCount,u=e.historyCount;return a.a.createElement(Qt,null,ua("tabSelector-outPost-all-react",t===ia.ALL,"all my posts","briefcase",function(e){n(ia.ALL)},o,!1,!1),ua("tabSelector-outPost-request-react",t===ia.REQUEST,"request","question",function(e){n(ia.REQUEST)},i,!0,!0),ua("tabSelector-outPost-borrow-react",t===ia.BORROW,"borrow","hand-holding-heart",function(e){n(ia.BORROW)},s,!1,!0),ua("tabSelector-outPost-return-react",t===ia.RETURN,"return","retweet",function(e){n(ia.RETURN)},c,!0,!0),ua("tabSelector-outPost-history-react",t===ia.HISTORY,"history","history",function(e){n(ia.HISTORY)},u,!1,!0),a.a.createElement(ca,null,a.a.createElement("button",{id:"createPostBtn-react",onClick:r,className:"btn btn-success"},"new")))},da=n(8),pa=n(18),ma=function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(h.a)(this,Object(b.a)(t).call(this,e))).state={isDecidingPost:!1},n.wrapBeforeAfter_isDecidingPost_stateSetting_aroundPostDecisionAsyncHandler=n.wrapBeforeAfter_isDecidingPost_stateSetting_aroundPostDecisionAsyncHandler.bind(Object(pa.a)(Object(pa.a)(n))),n}return Object(v.a)(t,e),Object(N.a)(t,[{key:"wrapBeforeAfter_isDecidingPost_stateSetting_aroundPostDecisionAsyncHandler",value:function(e){var t=this;return function(){t.setState({isDecidingPost:!0}),e.apply(void 0,arguments).then(function(e){return t.setState({isDecidingPost:!1})})}}},{key:"render",value:function(){var e=this.props,t=e.view,n=e.onUndoApproveShare,r=e.onUndoDenyShare,o=e.onDecideShare,i=this.state.isDecidingPost,s=this.wrapBeforeAfter_isDecidingPost_stateSetting_aroundPostDecisionAsyncHandler(n),c=this.wrapBeforeAfter_isDecidingPost_stateSetting_aroundPostDecisionAsyncHandler(r),u=this.wrapBeforeAfter_isDecidingPost_stateSetting_aroundPostDecisionAsyncHandler(o);return a.a.createElement(t,Object(da.a)({},this.props,{onUndoApproveShare:s,onUndoDenyShare:c,onDecideShare:u,isDecidingPost:i}))}}]),t}(r.Component);ma.propTypes={view:Ie.a.func.isRequired,onUndoApproveShare:Ie.a.func.isRequired,onUndoDenyShare:Ie.a.func.isRequired,onDecideShare:Ie.a.func.isRequired};var fa=ma;var ha=function(e){var t=e.view,n=e.posts,r=Object(St.a)(n).sort(function(e,t){return t.dateCreate-e.dateCreate}),o=Object(da.a)({},e,{view:void 0,posts:r});return a.a.createElement(t,o)},ba=(Ie.a.array.isRequired,Ie.a.bool.isRequired,Ie.a.bool.isRequired,Ie.a.array.isRequired,Ie.a.array.isRequired,Ie.a.array.isRequired,Ie.a.array.isRequired,Ie.a.array.isRequired,Ie.a.func.isRequired,Ie.a.func.isRequired,Ie.a.func.isRequired,Ie.a.func.isRequired,Ie.a.func.isRequired,function(e){function t(){var e,n;Object(f.a)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=Object(h.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(o)))).state={selectTab:ia.ALL,isOpenCrudDialog:!1,postIdForDialogToCreateOrUpdate:null,isCrudingPost:!1,isOpenDecisionDialog:!1,curDecidePostId:null},n.onTabChange=function(e){n.setState({selectTab:e})},n.onCrudDialogCancel=function(){n.setState({isOpenCrudDialog:!1})},n.onCrudDialogOk=function(e,t,r,a){n.setState({isCrudingPost:!0}),n.props.onCreateOrUpdatePost(e,t,r,a).then(function(e){return n.setState({isOpenCrudDialog:!1,isCrudingPost:!1})})},n.onOpenUpdatePostDialog=function(e){n.setState({isOpenCrudDialog:!0,postIdForDialogToCreateOrUpdate:e})},n.onOpenCreatePostDialog=function(){n.setState({isOpenCrudDialog:!0,postIdForDialogToCreateOrUpdate:null})},n.onOpenDecidePostDialog=function(e){n.setState({isOpenDecisionDialog:!0,curDecidePostId:e})},n.onExitDecisionDialog=function(){n.setState({isOpenDecisionDialog:!1})},n._genPostList=function(e,t){return a.a.createElement(ha,{listId:e,posts:t,onUpdatePostClick:n.onOpenUpdatePostDialog,onDecidePostClick:n.onOpenDecidePostDialog,onAwareReturnPost:n.props.onAwareReturnPost,awaringReturnPostIds:n.props.awaringReturnPostIds,view:aa})},n}return Object(v.a)(t,e),Object(N.a)(t,[{key:"_getPostsContent",value:function(){var e=this.props,t=e.posts,n=e.requestAlertPosts,o=e.borrowPosts,i=e.returnAlertPosts,s=e.returnShares,c=this.state.selectTab;return a.a.createElement(r.Fragment,null,a.a.createElement(br,null,a.a.createElement(la,{selectTab:c,onTabChange:this.onTabChange,onOpenCreatePostDialog:this.onOpenCreatePostDialog,allCount:t.length,requestCount:n.length,borrowCount:o.length,returnCount:i.length,historyCount:s.length})),a.a.createElement(ge,null,a.a.createElement(Ht,{show:c===ia.ALL},this._genPostList("outPostList-all-react",t)),a.a.createElement(Ht,{show:c===ia.REQUEST},this._genPostList("outPostList-requestNote-react",n)),a.a.createElement(Ht,{show:c===ia.BORROW},this._genPostList("outPostList-borrow-react",o)),a.a.createElement(Ht,{show:c===ia.RETURN},this._genPostList("outPostList-returnNote-react",i)),a.a.createElement(Ht,{show:c===ia.HISTORY},a.a.createElement(en,null,a.a.createElement(vr,{shares:s})))))}},{key:"render",value:function(){var e=this.state,t=e.isOpenCrudDialog,n=e.isCrudingPost,r=e.postIdForDialogToCreateOrUpdate,o=e.isOpenDecisionDialog,i=e.curDecidePostId,s=this.props,c=s.posts,u=s.isInitPosts,l=s.isFetchingPosts,d=s.onUndoApproveShare,p=s.onUndoDenyShare,m=s.onDecideShare;return a.a.createElement("div",{id:"outPostManagementComponent-react"},l&&a.a.createElement("h1",{className:"text-center"},a.a.createElement(Se,{text:"loading"})),u&&this._getPostsContent(),t&&a.a.createElement(Dr,{isOpen:t,post:null===r?null:c.find(function(e){return e.id===r}),isCrudingPost:n,onOk:this.onCrudDialogOk,onCancel:this.onCrudDialogCancel}),o&&a.a.createElement(fa,{view:Yr,isOpen:o,post:c.find(function(e){return e.id===i}),onUndoApproveShare:d,onUndoDenyShare:p,onDecideShare:m,onExit:this.onExitDecisionDialog}))}}]),t}(r.Component)),va="col-9",Ea="col-3 text-center";function ga(e){var t=e.connection,n=e.loginUserId,r=e.onUpdateConnection,o=e.isUpdatingConnection;return a.a.createElement("tr",{className:"ConnectionTableRow d-flex"},a.a.createElement("td",{className:va},t.getTheOtherUser(n).getNameAndEmail()),a.a.createElement("td",{className:Ea},o?a.a.createElement(Se,{text:null}):a.a.createElement("button",{className:"ConnectionTableRowDenyBtn btn btn-warning",onClick:function(){r(t.id,!1)}},a.a.createElement(Te.a,{icon:"trash-alt"}))))}var Ca=function(e){var t=e.connections,n=e.loginUserId,r=e.onUpdateConnection,o=e.updatingConnectionIds,i=t.length,s=t.map(function(e){return a.a.createElement(ga,{key:e.id,connection:e,isUpdatingConnection:o.includes(e.id),loginUserId:n,onUpdateConnection:r})});return a.a.createElement("table",{id:"FriendTable",className:"table table-sm table-striped table-bordered"},a.a.createElement("thead",{className:"thead-light"},a.a.createElement("tr",{className:"d-flex"},a.a.createElement("th",{className:va},"Friends: ".concat(i)),a.a.createElement("th",{className:Ea},"remove"))),a.a.createElement("tbody",null,s))},Oa="col-3 text-center",Ra="col-9";function ya(e){var t=e.connection,n=e.loginUserId,r=e.onUpdateConnection,o=e.isUpdatingConnection;return a.a.createElement("tr",{className:"ConnectionTableRow d-flex"},a.a.createElement("td",{className:Ra},t.getTheOtherUser(n).getNameAndEmail()),a.a.createElement("td",{className:Oa},o?a.a.createElement(Se,{text:null}):a.a.createElement("button",{className:"ConnectionTableRowDenyBtn btn btn-warning",onClick:function(){r(t.id,!1)}},a.a.createElement(Te.a,{icon:"trash-alt"}))))}var Sa=function(e){var t=e.connections,n=e.loginUserId,r=e.onUpdateConnection,o=e.updatingConnectionIds,i=t.map(function(e){return a.a.createElement(ya,{key:e.id,connection:e,isUpdatingConnection:o.includes(e.id),loginUserId:n,onUpdateConnection:r})});return a.a.createElement("table",{id:"OutFriendTable",className:"table table-sm table-striped table-bordered"},a.a.createElement("thead",{className:"thead-light"},a.a.createElement("tr",{className:"d-flex"},a.a.createElement("th",{className:Ra},"Waiting for friend response"),a.a.createElement("th",{className:Oa},"remove"))),a.a.createElement("tbody",null,i))},wa="col-9",Ia="col-3 text-center";function Pa(e){var t=e.connection,n=e.loginUserId,r=e.onUpdateConnection,o=e.isUpdatingConnection;return a.a.createElement("tr",{className:"ConnectionTableRow d-flex"},a.a.createElement("td",{className:wa},t.getTheOtherUser(n).getNameAndEmail()),a.a.createElement("td",{className:Ia},o?a.a.createElement(Se,{text:null}):a.a.createElement("button",{className:"ConnectionTableRowApproveBtn btn btn-success",onClick:function(){r(t.id,!0)}},a.a.createElement(Te.a,{icon:"undo-alt"}))))}var Na=function(e){var t=e.connections,n=e.loginUserId,r=e.onUpdateConnection,o=e.updatingConnectionIds,i=t.map(function(e){return a.a.createElement(Pa,{key:e.id,connection:e,isUpdatingConnection:o.includes(e.id),loginUserId:n,onUpdateConnection:r})});return a.a.createElement("table",{id:"DenyFriendTable",className:"table table-sm table-striped table-bordered"},a.a.createElement("thead",{className:"thead-light"},a.a.createElement("tr",{className:"d-flex"},a.a.createElement("th",{className:wa},"Denal list"),a.a.createElement("th",{className:Ia},"undo"))),a.a.createElement("tbody",null,i))},Aa=function(e){function t(){return Object(f.a)(this,t),Object(h.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),t}(E.Enum);Aa.initEnum(["FRIEND","OUT_CONNECTION","IN_CONNECTION","SEARCH","DENY"]);var Ta=Aa;function ja(e,t,n,r,o,i,s,c){return a.a.createElement($t,{id:e,isSelect:t,caption:n,iconName:r,onSelect:o,notificationItem:a.a.createElement(We,{count:i,isImportant:s}),isResponsive:c})}var Ua=function(e){var t=e.selectTab,n=e.onTabChange,r=e.friendConnectionCount,o=e.inConnectionCount,i=e.outConnectionCount,s=e.denyConnectionCount;return a.a.createElement(Qt,null,ja("tabSelector-connection-friend-react",t===Ta.FRIEND,"all friends","user-friends",function(e){n(Ta.FRIEND)},r,!1,!1),ja("tabSelector-connection-outConnection-react",t===Ta.OUT_CONNECTION,"my request","sign-out-alt",function(e){n(Ta.OUT_CONNECTION)},i,!1,!0),ja("tabSelector-connection-inConnection-react",t===Ta.IN_CONNECTION,"friend request","sign-in-alt",function(e){n(Ta.IN_CONNECTION)},o,!0,!0),ja("tabSelector-connection-search-react",t===Ta.SEARCH,"search","search",function(e){n(Ta.SEARCH)},0,!1,!0),ja("tabSelector-connection-deny-react",t===Ta.DENY,"deny","user-slash",function(e){n(Ta.DENY)},s,!1,!0))},ka="col-8",xa="col-2 text-center";function qa(e){var t=e.connection,n=e.loginUserId,r=e.onUpdateConnection,o=e.isUpdatingConnection;return a.a.createElement("tr",{className:"ConnectionTableRow d-flex"},a.a.createElement("td",{className:"col-8"},t.getTheOtherUser(n).getNameAndEmail()),a.a.createElement("td",{className:xa},o?a.a.createElement(Se,{text:null}):a.a.createElement("button",{className:"ConnectionTableRowApproveBtn btn btn-success",onClick:function(){r(t.id,!0)}},a.a.createElement(Te.a,{icon:"thumbs-up"}))),a.a.createElement("td",{className:xa},o?a.a.createElement(Se,{text:null}):a.a.createElement("button",{className:"ConnectionTableRowDenyBtn btn btn-warning",onClick:function(){r(t.id,!1)}},a.a.createElement(Te.a,{icon:"thumbs-down"}))))}var Da=function(e){var t=e.connections,n=e.loginUserId,r=e.onUpdateConnection,o=e.updatingConnectionIds,i=t.map(function(e){return a.a.createElement(qa,{key:e.id,connection:e,isUpdatingConnection:o.includes(e.id),loginUserId:n,onUpdateConnection:r})});return a.a.createElement("table",{id:"InFriendTable",className:"table table-sm table-striped table-bordered"},a.a.createElement("thead",{className:"thead-light"},a.a.createElement("tr",{className:"d-flex"},a.a.createElement("th",{className:ka},"Friend requests"),a.a.createElement("th",{className:xa},a.a.createElement(Te.a,{icon:"thumbs-up"})),a.a.createElement("th",{className:xa},a.a.createElement(Te.a,{icon:"thumbs-down"})))),a.a.createElement("tbody",null,i))};Ie.a.string.isRequired,Ie.a.instanceOf(T).isRequired,Re("object",A),Ie.a.bool.isRequired,Ie.a.func.isRequired,Ie.a.instanceOf(T),Ie.a.bool.isRequired,Ie.a.func.isRequired,Ie.a.string.isRequired,Re("object",T),Ie.a.bool.isRequired,Ie.a.instanceOf(A),Re("string"),Re("string"),Ie.a.func.isRequired,Ie.a.func.isRequired;function _a(e){var t=e.responseMessageAboutSearchConnectionResult,n=e.searchedUser,r=e.searchedConnection,o=e.isCreatingConnection,i=e.onCreateConnection,s=null;return null===r&&(s=o?a.a.createElement(Se,{text:"Inviting ".concat(n.name)}):a.a.createElement("button",{className:"btn btn-success",id:"createConnectionBtn",onClick:function(){i(n.id)}},"Invite ",n.name)),a.a.createElement("div",{id:"CrudConnectionControlPanel-react"},t,s)}var Fa=function(e){var t=e.loginUser,n=e.isCreatingConnection,r=e.onCreateConnection,o=e.email,i=e.searchedUser,s=e.isSearching,c=e.searchedConnection,u=e.responseMessageAboutSearchInput,l=e.responseMessageAboutSearchConnectionResult,d=e.onSearchChange,p=e.onSearchSubmit;return a.a.createElement("div",{id:"SearchByEmail-react",className:"text-center"},a.a.createElement("form",{onSubmit:function(e){p(),e.preventDefault()}},a.a.createElement("input",{type:"text",placeholder:"search email",value:o,onChange:function(e){return d(e.target.value)}}),s?a.a.createElement(Se,{text:"searching"}):a.a.createElement("input",{className:"btn btn-primary",type:"submit",value:"search"})),u&&a.a.createElement("p",{className:"lead"},u),i&&a.a.createElement(_a,{loginUser:t,responseMessageAboutSearchConnectionResult:l,searchedUser:i,searchedConnection:c,isCreatingConnection:n,onCreateConnection:r}))},Ba=n(36),La=n.n(Ba),Va=function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(h.a)(this,Object(b.a)(t).call(this,e))).state={email:"",searchedUser:null,searchSubmited:!1,isSearching:!1,isCreatingConnection:!1},n.onSearchChange=n.onSearchChange.bind(Object(pa.a)(Object(pa.a)(n))),n.onSearchSubmit=n.onSearchSubmit.bind(Object(pa.a)(Object(pa.a)(n))),n.onCreateConnection=n.onCreateConnection.bind(Object(pa.a)(Object(pa.a)(n))),n}return Object(v.a)(t,e),Object(N.a)(t,[{key:"onSearchChange",value:function(e){this.setState({email:e,searchSubmited:!1})}},{key:"onSearchSubmit",value:function(){var e=this,t=this.state,n=t.email,r=t.emailValid,a=t.selfSearch,o=n.trim();this.setState({searchSubmited:!0,searchedUser:null,email:o}),r&&!a&&(this.setState({isSearching:!0}),Object(y.a)(R.a.mark(function t(){var n;return R.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ce.searchEmail(o);case 2:n=t.sent,e.setState({searchedUser:n,isSearching:!1});case 4:case"end":return t.stop()}},t,this)}))())}},{key:"onCreateConnection",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.setState({isCreatingConnection:!0},Object(y.a)(R.a.mark(function t(){var r;return R.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(r=e.props).onCreateConnection.apply(r,n);case 2:e.setState({isCreatingConnection:!1});case 3:case"end":return t.stop()}},t,this)})))}},{key:"render",value:function(){var e=this.props,t=e.view,n=e.loginUser,r=this.state,o=r.email,i=r.searchedUser,s=r.isSearching,c=r.isCreatingConnection,u=this.state,l={loginUser:n,email:o,searchedUser:i,isSearching:s,isCreatingConnection:c,searchedConnection:u.searchedConnection,responseMessageAboutSearchInput:u.responseMessageAboutSearchInput,responseMessageAboutSearchConnectionResult:u.responseMessageAboutSearchConnectionResult,onSearchChange:this.onSearchChange,onSearchSubmit:this.onSearchSubmit,onCreateConnection:this.onCreateConnection};return a.a.createElement(t,l)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.searchedUser,r=t.email,a=t.searchSubmited,o=t.isSearching,i=e.connections,s=e.loginUser,c=La.a.isEmail(r),u=s.email===r,l=function(e,t,n){if(!e)return null;var r=n.filter(function(n){return n.from.id===e.id&&n.to.id===t.id||n.from.id===t.id&&n.to.id===e.id});if(r.length>1)throw Error("Unexpected duplicate connections");return 1===r.length?r[0]:null}(n,s,i);return{searchedConnection:l,responseMessageAboutSearchInput:Ha(c,u,r,a,o,n),responseMessageAboutSearchConnectionResult:Ga(l,s),emailValid:c,selfSearch:u}}}]),t}(r.Component);Va.propTypes={loginUser:Ie.a.instanceOf(T).isRequired,connections:Ie.a.arrayOf(Ie.a.instanceOf(A)).isRequired,onCreateConnection:Ie.a.func.isRequired};var Ma=Va;function Ha(e,t,n,r,a,o){var i=""===n,s=null;return r&&i?s=null:r&&(!i&&!e)?s="Email is invalid!":r&&t?s="Can't add yourself as friend!":!r||!e||a||t||o?o&&(s="Found ".concat(o.name,", email: ").concat(o.email)):s="Result not found!",s}function Ga(e,t){if(!e)return"You are not friends yet!";var n,r=e.getTheOtherUser(t.id);return e.from.id===t.id?(n="You invited ".concat(r.name,". "),!1===e.isApproveByFrom?n+="But you changed your mind.":void 0===e.isApproveByTo?n+="Please wait for approval!":!0===e.isApproveByTo?n+="And you are friends!":n+="But sorry, you got denied!"):(n="".concat(r.name," invited you. "),!1===e.isApproveByFrom?n+="But changed his/her mind. Sorry!":void 0===e.isApproveByTo?n+="Please response.":!0===e.isApproveByTo?n+="And you accpected!":n+="And you denied."),n}function Wa(){var e=Object(le.a)(["\n  ",";\n  margin-top: 10px;\n"]);return Wa=function(){return e},e}var $a=de.b.div(Wa(),Ee),Ya=function(e){function t(){var e,n;Object(f.a)(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(n=Object(h.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(i)))).state={selectTab:Ta.FRIEND},n.onTabChange=function(e){n.setState({selectTab:e})},n._getConnectionContent=function(e){var t=n.props.loginUser.id,o=n.state.selectTab,i=n.props,s=i.updatingConnectionIds,c=i.isCreatingConnection,u=Ot.friend(e,t),l=Ot.in(e,t),d=Ot.out(e,t),p=Ot.deny(e,t);return a.a.createElement(r.Fragment,null,a.a.createElement(br,null,a.a.createElement(Ua,{selectTab:o,onTabChange:n.onTabChange,friendConnectionCount:u.length,inConnectionCount:l.length,outConnectionCount:d.length,denyConnectionCount:p.length})),a.a.createElement($a,null,a.a.createElement(Ht,{show:o===Ta.FRIEND},a.a.createElement(Ca,{connections:u,updatingConnectionIds:s,loginUserId:t,onUpdateConnection:n.props.onUpdateConnection})),a.a.createElement(Ht,{show:o===Ta.IN_CONNECTION},a.a.createElement(Da,{connections:l,updatingConnectionIds:s,loginUserId:t,onUpdateConnection:n.props.onUpdateConnection})),a.a.createElement(Ht,{show:o===Ta.OUT_CONNECTION},a.a.createElement(Sa,{connections:d,updatingConnectionIds:s,loginUserId:t,onUpdateConnection:n.props.onUpdateConnection})),a.a.createElement(Ht,{show:o===Ta.DENY},a.a.createElement(Na,{connections:p,updatingConnectionIds:s,loginUserId:t,onUpdateConnection:n.props.onUpdateConnection})),a.a.createElement(Ht,{show:o===Ta.SEARCH},a.a.createElement(Ma,{loginUser:n.props.loginUser,connections:e,onCreateConnection:n.props.onCreateConnection,isCreatingConnection:c,view:Fa}))))},n}return Object(v.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this.props,t=e.connections,n=e.isInitConnections,r=e.isFetchingConnections;return a.a.createElement("div",{id:"ConnectionManagement-react"},n&&this._getConnectionContent(t),r&&a.a.createElement("h1",{className:"text-center"},a.a.createElement(Se,{text:"loading"})))}}],[{key:"countFriendRequest",value:function(e,t){return null===e?null:e.filter(function(e){return e.to.id===t&&e.isApproveByFrom&&void 0===e.isApproveByTo}).length}}]),t}(r.Component),Qa=function(){return function(e,t){e({type:"INFORM_FETCH_CONNECTIONS"}),ce.connections().then(function(t){return e({type:"RECEIVE_FETCH_CONNECTIONS",connections:t})})}},Ka=function(e){return function(t,n){return ce.createConnection(e).then(function(e){t({type:"RECEIVE_CREATE_CONNECTION",connection:e}),t(Pr())})}},za=function(e,t){return function(n,r){n({type:"INFORM_UPDATE_CONNECTION",connectionId:e}),ce.updateConnection(e,t).then(function(t){var r=t.updatedApprovedByTo,a=t.updatedApprovedByFrom;n({type:"RECIEVE_UPDATE_CONNECTION",connectionId:e,updatedApprovedByTo:r,updatedApprovedByFrom:a}),n(Pr())})}},Ja=function(e){function t(){return Object(f.a)(this,t),Object(h.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchConnections()}},{key:"render",value:function(){var e=this.props.view;return a.a.createElement(e,this.props)}}]),t}(r.Component),Xa=Object(l.b)(function(e,t){return{loginUser:gt.loginUser(e),isFetchingConnections:yt.isFetchingConnections(e),isInitConnections:yt.isInitConnections(e),connections:yt.connections(e),updatingConnectionIds:yt.updatingConnectionIds(e)}},function(e,t){return{fetchConnections:function(){return e(Qa())},onCreateConnection:function(t){return e(Ka(t))},onUpdateConnection:function(t,n){return e(za(t,n))}}})(Ja);Xa.propTypes={view:Ie.a.func.isRequired};var Za=Xa,eo="no_profile_image.png",to=function(e){function t(){var e,n;Object(f.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(a)))).onImageError=function(e){e.target.src=eo},n}return Object(v.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this.props.loginUser,t=e.profileImageUrl||eo;return a.a.createElement("img",{src:t,alt:e.getNameAndEmail(),width:"33",height:"33",onError:this.onImageError,title:e.getNameAndEmail()})}}]),t}(r.Component);Ie.a.bool.isRequired,Ie.a.instanceOf(T).isRequired,Ie.a.func.isRequired;function no(){var e=Object(le.a)(["\n  "," margin-top:10px;\n  padding: 10px;\n  text-align: center;\n"]);return no=function(){return e},e}var ro=de.b.div(no(),Xt);var ao=function(e){var t=e.isLoggingOut,n=e.loginUser,r=e.onLogOut;return a.a.createElement(ge,null,a.a.createElement(ro,null,a.a.createElement("div",null,a.a.createElement(to,{loginUser:n}),a.a.createElement("span",{className:"ml-2"},n.getNameAndEmail())),a.a.createElement("div",{className:"mt-3"},t?a.a.createElement(Se,{text:"logout"}):a.a.createElement("button",{id:"appLogOutBtn-react",onClick:r,className:"btn btn-warning"},"logout"))))},oo=Object(l.b)(function(e,t){return{isLoggingOut:gt.isLoggingOut(e),loginUser:gt.loginUser(e)}},function(e,t){return{onLogOut:function(){return e(function(e,t){e({type:"INFORM_LOGGING_OUT"}),ce.logout().then(function(){e({type:"RECEIVE_LOGGED_OUT_SUCCESS"})})})}}})(Tn);var io=function(e){return a.a.createElement("div",{id:"privateApp-react"},a.a.createElement(Ht,{show:e===C.INPOST},a.a.createElement(Ar,{view:Cr})),a.a.createElement(Ht,{show:e===C.OUTPOST},a.a.createElement(Ir,{view:ba})),a.a.createElement(Ht,{show:e===C.CONNECTION},a.a.createElement(Za,{view:Ya})),a.a.createElement(Ht,{show:e===C.PROFILE},a.a.createElement(oo,{view:ao})))};function so(e){return e.selectAppTab}function co(e){var t=e.selectAppTab;return(0,e.view)(t)}co.propTypes={view:Ie.a.func.isRequired,selectAppTab:Ie.a.instanceOf(C).isRequired};var uo=Object(l.b)(function(e,t){return{selectAppTab:so(e)}})(co),lo=function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(h.a)(this,Object(b.a)(t).call(this,e))).state={email:"",name:"",isSubmitFormClicked:!1,isAjaxing:!1,isNameRequire:!1},n.onEmailChange=n.onEmailChange.bind(Object(pa.a)(Object(pa.a)(n))),n.onNameChange=n.onNameChange.bind(Object(pa.a)(Object(pa.a)(n))),n.onSubmit=n.onSubmit.bind(Object(pa.a)(Object(pa.a)(n))),n}return Object(v.a)(t,e),Object(N.a)(t,[{key:"onEmailChange",value:function(e){this.setState({email:e,isSubmitFormClicked:!1,isNameRequire:!1})}},{key:"onNameChange",value:function(e){this.setState({name:e,isSubmitFormClicked:!1})}},{key:"onSubmit",value:function(e){var t=this;this.setState({isSubmitFormClicked:!0,email:this.state.email.trim()}),this.state.isEmailValid&&(this.setState({isAjaxing:!0}),Object(y.a)(R.a.mark(function e(){var n;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce.backDoorLogin(t.state.email,t.state.name);case 2:n=e.sent,t.setState({isSubmitFormClicked:!1,isAjaxing:!1,isNameRequire:null===n}),t.props.dispatch({type:"RECEIVE_AUTH_CHECK_RESULT",authenticatedUser:n});case 5:case"end":return e.stop()}},e,this)}))()),e.preventDefault()}},{key:"render",value:function(){return a.a.createElement(this.props.view,{isEmailValid:this.state.isEmailValid,isNameRequire:this.state.isNameRequire,nameIsEmpty:this.state.nameIsEmpty,isSubmitFormClicked:this.state.isSubmitFormClicked,isAjaxing:this.state.isAjaxing,email:this.state.email,name:this.state.name,onSubmit:this.onSubmit,onEmailChange:this.onEmailChange,onNameChange:this.onNameChange})}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.name,r=t.email;return{isEmailValid:La.a.isEmail(r.trim()),nameIsEmpty:0===n.length}}}]),t}(r.Component);lo.propsType={dispatch:Ie.a.func.isRequired,view:Ie.a.func.isRequired};var po=Object(l.b)()(lo);function mo(){var e=Object(le.a)(["\n  text-align: center;\n"]);return mo=function(){return e},e}de.b.div(mo());var fo=function(e){function t(){return Object(f.a)(this,t),Object(h.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){this.props.authCheck()}},{key:"render",value:function(){var e=this.props,t=e.loginUser,n=e.isCheckingAuth,r=e.isCheckedAuth;return(0,e.view)(t,n,r)}}]),t}(r.Component),ho=Object(l.b)(function(e){return{loginUser:gt.loginUser(e),isCheckingAuth:gt.isCheckingAuth(e),isCheckedAuth:gt.isCheckedAuth(e)}},function(e){return{authCheck:function(){return e(function(e,t){return e({type:"INFORM_CHECKING_AUTH"}),ce.authCheck().then(function(t){return e({type:"RECEIVE_AUTH_CHECK_RESULT",authenticatedUser:t}),t})})}}})(fo),bo={connections:[],isInitConnections:!1,isFetchingConnections:!1,updatingConnectionIds:[]},vo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INFORM_FETCH_CONNECTIONS":return Object(da.a)({},e,{isFetchingConnections:!0});case"RECEIVE_FETCH_CONNECTIONS":return Object(da.a)({},e,{connections:t.connections,isInitConnections:!0,isFetchingConnections:!1});case"RECEIVE_CREATE_CONNECTION":return Object(da.a)({},e,{connections:[].concat(Object(St.a)(e.connections),[t.connection])});case"INFORM_UPDATE_CONNECTION":return Object(da.a)({},e,{updatingConnectionIds:[].concat(Object(St.a)(e.updatingConnectionIds),[t.connectionId])});case"RECIEVE_UPDATE_CONNECTION":var n=e.connections,r=t.connectionId,a=n.find(function(e){return e.id===r}),o=qr()(a,{isApproveByFrom:{$set:t.updatedApprovedByFrom},isApproveByTo:{$set:t.updatedApprovedByTo}}),i=[].concat(Object(St.a)(n.filter(function(e){return e.id!==r})),[o]);return Object(da.a)({},e,{connections:i,updatingConnectionIds:e.updatingConnectionIds.filter(function(e){return e!==r})});case"RECEIVE_LOGGED_OUT_SUCCESS":return bo;default:return e}},Eo={posts:[],isInitPosts:!1,isFetchingPosts:!1,awaringReturnPostIds:[]},go=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Eo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INFORM_FETCH_OUTPOSTS":return function(e){return Object(da.a)({},e,{isFetchingPosts:!0})}(e);case"RECEIVE_FETCH_OUTPOSTS":return function(e,t){return Object(da.a)({},e,{isInitPosts:!0,isFetchingPosts:!1,posts:t})}(e,t.posts);case"RECIEVE_UPDATE_POST":return function(e,t,n,r,a){var o=e.posts,i=o.find(function(e){return e.id===t}),s=qr()(i,{title:{$set:n},description:{$set:r},isActive:{$set:a}});return Object(da.a)({},e,{posts:[].concat(Object(St.a)(o.filter(function(e){return e.id!==t})),[s])})}(e,t.postId,t.updatedTitle,t.updatedDescription,t.updatedIsActive);case"RECEIVE_CREATE_POST":return function(e,t){return Object(da.a)({},e,{posts:[].concat(Object(St.a)(e.posts),[t])})}(e,t.post);case"RECEIVE_DECIDE_POST":return function(e,t,n){var r=e.posts,a=r.find(function(e){return e.shares.some(function(e){return e.id===t})}),o=a.shares.find(function(e){return e.id===t}),i=qr()(o,{isApprove:{$set:n}}),s=[].concat(Object(St.a)(a.shares.filter(function(e){return e.id!==t})),[i]),c=qr()(a,{shares:{$set:s}});return Object(da.a)({},e,{posts:[].concat(Object(St.a)(r.filter(function(e){return e.id!==c.id})),[c])})}(e,t.shareId,t.resultIsApprove);case"INFORM_AWARE_RETURN_POST":return Object(da.a)({},e,{awaringReturnPostIds:[].concat(Object(St.a)(e.awaringReturnPostIds),[t.postId])});case"RECEIVE_AWARE_RETURN_POST":var n=e.posts,r=n.find(function(e){return e.id===t.postId}),a=r.unawareReturnShareLatest,o=qr()(a,{isAwareReturn:{$set:!0}}),i=[].concat(Object(St.a)(r.shares.filter(function(e){return e.id!==o.id})),[o]),s=qr()(r,{shares:{$set:i}}),c=[].concat(Object(St.a)(n.filter(function(e){return e.id!==r.id})),[s]);return Object(da.a)({},e,{posts:c,awaringReturnPostIds:e.awaringReturnPostIds.filter(function(e){return e!==t.postId})});case"RECEIVE_LOGGED_OUT_SUCCESS":return Eo;default:return e}},Co=n(32),Oo={posts:[],isFetchingPosts:!1,isInitPosts:!1,requestingPostIds:[],deletingShareIds:[],awaringShareIds:[],returningShareIds:[]},Ro=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INFORM_FETCH_INPOSTS":return Object(da.a)({},e,{isFetchingPosts:!0});case"RECEIVE_FETCH_INPOSTS":var n=t.posts.filter(function(e){return e.denyShares.every(function(e){return e.borrower.id!==t.loginUserId})});return Object(da.a)({},e,{isFetchingPosts:!1,isInitPosts:!0,posts:n});case"INFORM_REQUEST_INPOST":return function(e,t){return Object(da.a)({},e,{requestingPostIds:[].concat(Object(St.a)(e.requestingPostIds),[t])})}(e,t.postId);case"RECEIVE_REQUEST_INPOST":return function(e,t,n,r,a){var o=e.posts,i=new q(n,a,new Date(r),void 0,!1,!1,!1,null,null),s=o.find(function(e){return e.id===t}),c=qr()(s,{shares:{$push:[i]}});i.post=c;var u=[].concat(Object(St.a)(o.filter(function(e){return e.id!==t})),[c]);return Object(da.a)({},e,{posts:u,requestingPostIds:e.requestingPostIds.filter(function(e){return e!==t})})}(e,t.postId,t.shareId,t.shareDateCreate,t.loginUser);case"INFORM_UNREQUEST_INPOST":return function(e,t){return Object(da.a)({},e,{deletingShareIds:[].concat(Object(St.a)(e.deletingShareIds),[t])})}(e,t.shareId);case"RECEIVE_UNREQUEST_INPOST":return function(e,t){var n=e.posts,r=n.find(function(e){return e.shares.some(function(e){return e.id===t})}),a=r.shares.findIndex(function(e){return e.id===t}),o=qr()(r,{shares:{$splice:[[a,1]]}}),i=[].concat(Object(St.a)(n.filter(function(e){return e.id!==o.id})),[o]);return Object(da.a)({},e,{deletingShareIds:e.deletingShareIds.filter(function(e){return e!==t}),posts:i})}(e,t.shareId);case"INFORM_AWARE_APPROVE_INPOST":return qr()(e,{awaringShareIds:{$push:[t.shareId]}});case"RECEIVE_AWARE_APPROVE_INPOST":var r=t.shareId,a=t.isAwareApprove,o=e.posts.findIndex(function(e){return e.shares.some(function(e){return e.id===r})}),i=e.posts[o].shares.findIndex(function(e){return e.id===r});return qr()(e,{posts:Object(Co.a)({},o,{shares:Object(Co.a)({},i,{isAwareApprove:{$set:a}})}),awaringShareIds:{$set:e.awaringShareIds.filter(function(e){return e!==r})}});case"INFORM_RETURN_INPOST":return function(e,t){return Object(da.a)({},e,{returningShareIds:[].concat(Object(St.a)(e.returningShareIds),[t])})}(e,t.shareId);case"RECEIVE_RETURN_INPOST":return function(e,t,n,r){var a=e.posts,o=a.find(function(e){return e.shares.some(function(e){return e.id===t})}),i=o.shares.find(function(e){return e.id===t}),s=qr()(i,{isReturn:{$set:n},dateReturn:{$set:r}}),c=[].concat(Object(St.a)(o.shares.filter(function(e){return e.id!==t})),[s]),u=qr()(o,{shares:{$set:c}}),l=[].concat(Object(St.a)(a.filter(function(e){return e.id!==o.id})),[u]);return Object(da.a)({},e,{posts:l,returningShareIds:e.returningShareIds.filter(function(e){return e!==t})})}(e,t.shareId,t.resultIsReturnByTo,t.resultDateReturn);case"RECEIVE_LOGGED_OUT_SUCCESS":return Oo;default:return e}},yo={loginUser:null,isCheckedAuth:!1,isCheckingAuth:!1,isLoggingOut:!1},So=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INFORM_CHECKING_AUTH":return Object(da.a)({},e,{isCheckingAuth:!0});case"RECEIVE_AUTH_CHECK_RESULT":return Object(da.a)({},e,{loginUser:t.authenticatedUser,isCheckingAuth:!1,isCheckedAuth:!0});case"INFORM_LOGGING_OUT":return Object(da.a)({},e,{isLoggingOut:!0});case"RECEIVE_LOGGED_OUT_SUCCESS":return Object(da.a)({},e,{loginUser:null,isLoggingOut:!1});default:return e}},wo=[d.a];var Io=Object(u.combineReducers)({auth:So,connection:vo,inPost:Ro,outPost:go,selectAppTab:ue}),Po=Object(u.createStore)(Io,u.applyMiddleware.apply(void 0,wo));i.a.render(a.a.createElement(l.a,{store:Po},a.a.createElement(ho,{view:function(e,t,n){var r;return r=null===e?a.a.createElement(ge,null,a.a.createElement(Vt,null)):a.a.createElement(uo,{view:io}),a.a.createElement("div",{id:"app-react"},a.a.createElement(jt,null),null===e&&n&&a.a.createElement(ge,null,a.a.createElement(po,{view:Ae})),r)}})),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/good_neighbor_test",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/good_neighbor_test","/service-worker.js");s?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):c(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):c(e)})}}()},79:function(e,t,n){e.exports=n(191)},90:function(e,t,n){},92:function(e,t,n){},94:function(e,t,n){}},[[79,2,1]]]);
//# sourceMappingURL=main.8e4d083b.chunk.js.map